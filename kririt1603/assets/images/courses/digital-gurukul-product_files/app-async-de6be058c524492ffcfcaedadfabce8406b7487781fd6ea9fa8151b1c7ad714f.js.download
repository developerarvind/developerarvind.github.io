function initHotjar(){var e,t,n,r,o,i;e=window,t=document,n="//static.hotjar.com/c/hotjar-",r=".js?sv=",e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:171201,hjsv:5},o=t.getElementsByTagName("head")[0],(i=t.createElement("script")).async=1,i.src=n+e._hjSettings.hjid+r+e._hjSettings.hjsv,o.appendChild(i)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){"use strict";function Y(e,t,n,r,o,i){return{tag:e,key:t,attrs:n,children:r,text:o,dom:i,domSize:undefined,state:undefined,_state:undefined,events:undefined,instance:undefined,skip:!1}}function c(e){for(var t in e)if(f.call(e,t))return!1;return!0}function s(e){for(var t,n="div",r=[],o={};t=u.exec(e);){var i=t[1],a=t[2];if(""===i&&""!==a)n=a;else if("#"===i)o.id=a;else if("."===i)r.push(a);else if("["===t[3][0]){var s=t[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(s):o[t[4]]=""===s?s:s||!0}}return 0<r.length&&(o.className=r.join(" ")),d[e]={tag:n,attrs:o}}function l(e,t,n){var r,o,i=!1,a=t.className||t["class"];if(!c(e.attrs)&&!c(t)){var s={};for(var l in t)f.call(t,l)&&(s[l]=t[l]);t=s}for(var l in e.attrs)f.call(e.attrs,l)&&(t[l]=e.attrs[l]);for(var l in a!==undefined&&(t["class"]!==undefined&&(t["class"]=undefined,t.className=a),null!=e.attrs.className&&(t.className=e.attrs.className+" "+a)),t)if(f.call(t,l)&&"key"!==l){i=!0;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?o=n[0].children:r=n,Y(e.tag,t.key,i?t:undefined,r,o)}function e(e,t){var n,r=t,o=2;if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");if("string"==typeof e)var i=d[e]||s(e);if(null==r?r={}:("object"!=typeof r||null!=r.tag||Array.isArray(r))&&(r={},o=1),arguments.length===o+1)n=arguments[o],Array.isArray(n)||(n=[n]);else for(n=[];o<arguments.length;)n.push(arguments[o++]);var a=Y.normalizeChildren(n);return"string"==typeof e?l(i,r,a):Y(e,r.key,r,a)}function a(t){var n=16,r=0,o=null,i="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var e=Date.now();0===r||n<=e-r?(r=e,t()):null===o&&(o=i(function(){o=null,t(),r=Date.now()},n-(e-r)))}}Y.normalize=function(e){return Array.isArray(e)?Y("[",undefined,undefined,Y.normalizeChildren(e),undefined,undefined):null!=e&&"object"!=typeof e?Y("#",undefined,undefined,!1===e?"":e,undefined,undefined):e},Y.normalizeChildren=function(e){for(var t=0;t<e.length;t++)e[t]=Y.normalize(e[t]);return e};var u=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,d={},f={}.hasOwnProperty;e.trust=function(e){return null==e&&(e=""),Y("<",undefined,undefined,e,undefined,undefined)},e.fragment=function(e,t){return Y("[",e.key,e,Y.normalizeChildren(t),undefined,undefined)};var t=e;if((h=function(e){function t(o,i){return function t(n){var e;try{if(!i||null==n||"object"!=typeof n&&"function"!=typeof n||"function"!=typeof(e=n.then))f(function(){i||0!==o.length||console.error("Possible unhandled promise rejection:",n);for(var e=0;e<o.length;e++)o[e](n);l.length=0,c.length=0,d.state=i,d.retry=function(){t(n)}});else{if(n===s)throw new TypeError("Promise can't be resolved w/ itself");a(e.bind(n))}}catch(r){u(r)}}}function a(e){function t(t){return function(e){0<n++||t(e)}}var n=0,r=t(u);try{e(t(i),r)}catch(o){r(o)}}if(!(this instanceof h))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var s=this,l=[],c=[],i=t(l,!0),u=t(c,!1),d=s._instance={resolvers:l,rejectors:c},f="function"==typeof setImmediate?setImmediate:setTimeout;a(e)}).prototype.then=function(e,t){function n(n,e,r,t){e.push(function(e){if("function"!=typeof n)r(e);else try{o(n(e))}catch(t){i&&i(t)}}),"function"==typeof a.retry&&t===a.state&&a.retry()}var o,i,a=this._instance,r=new h(function(e,t){o=e,i=t});return n(e,a.resolvers,o,!0),n(t,a.rejectors,i,!1),r},h.prototype["catch"]=function(e){return this.then(null,e)},h.resolve=function(t){return t instanceof h?t:new h(function(e){e(t)})},h.reject=function(n){return new h(function(e,t){t(n)})},h.all=function(s){return new h(function(n,r){var o=s.length,i=0,a=[];if(0===s.length)n([]);else for(var e=0;e<s.length;e++)!function(t){function e(e){i++,a[t]=e,i===o&&n(a)}null==s[t]||"object"!=typeof s[t]&&"function"!=typeof s[t]||"function"!=typeof s[t].then?e(s[t]):s[t].then(e,r)}(e)})},h.race=function(r){return new h(function(e,t){for(var n=0;n<r.length;n++)r[n].then(e,t)})},"undefined"!=typeof window){"undefined"==typeof window.Promise&&(window.Promise=h);var h=window.Promise}else if("undefined"!=typeof global){"undefined"==typeof global.Promise&&(global.Promise=h);h=global.Promise}var m=function(e){function r(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)r(e+"["+n+"]",t[n]);else if("[object Object]"===Object.prototype.toString.call(t))for(var n in t)r(e+"["+n+"]",t[n]);else o.push(encodeURIComponent(e)+(null!=t&&""!==t?"="+encodeURIComponent(t):""))}if("[object Object]"!==Object.prototype.toString.call(e))return"";var o=[];for(var t in e)r(t,e[t]);return o.join("&")},v=new RegExp("^file://","i"),n=function(c,r){function e(e){s=e}function i(){function o(){0==--i&&"function"==typeof s&&s()}var i=0;return function t(n){var r=n.then;return n.then=function(){i++;var e=r.apply(n,arguments);return e.then(o,function(e){if(o(),0===i)throw e}),t(e)},n}}function a(e,t){if("string"==typeof e){var n=e;null==(e=t||{}).url&&(e.url=n)}return e}function t(l,e){var t=i();l=a(l,e);var n=new r(function(o,i){null==l.method&&(l.method="GET"),l.method=l.method.toUpperCase();var e="GET"!==l.method&&"TRACE"!==l.method&&("boolean"!=typeof l.useBody||l.useBody);"function"!=typeof l.serialize&&(l.serialize="undefined"!=typeof FormData&&l.data instanceof FormData?function(e){return e}:JSON.stringify),"function"!=typeof l.deserialize&&(l.deserialize=f),"function"!=typeof l.extract&&(l.extract=h),l.url=u(l.url,l.data),e?l.data=l.serialize(l.data):l.url=d(l.url,l.data);var a=new c.XMLHttpRequest,s=!1,t=a.abort;for(var n in a.abort=function(){s=!0,t.call(a)},a.open(l.method,l.url,"boolean"!=typeof l.async||l.async,"string"==typeof l.user?l.user:undefined,"string"==typeof l.password?l.password:undefined),l.serialize!==JSON.stringify||!e||l.headers&&l.headers.hasOwnProperty("Content-Type")||a.setRequestHeader("Content-Type","application/json; charset=utf-8"),l.deserialize!==f||l.headers&&l.headers.hasOwnProperty("Accept")||a.setRequestHeader("Accept","application/json, text/*"),l.withCredentials&&(a.withCredentials=l.withCredentials),l.headers)({}).hasOwnProperty.call(l.headers,n)&&a.setRequestHeader(n,l.headers[n]);"function"==typeof l.config&&(a=l.config(a,l)||a),a.onreadystatechange=function(){if(!s&&4===a.readyState)try{var e=l.extract!==h?l.extract(a,l):l.deserialize(l.extract(a,l));if(200<=a.status&&a.status<300||304===a.status||v.test(l.url))o(p(l.type,e));else{var t=new Error(a.responseText);for(var n in e)t[n]=e[n];i(t)}}catch(r){i(r)}},e&&null!=l.data?a.send(l.data):a.send()});return!0===l.background?n:t(n)}function n(o,e){var t=i();o=a(o,e);var n=new r(function(t,e){var n=o.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+l++,r=c.document.createElement("script");c[n]=function(e){r.parentNode.removeChild(r),t(p(o.type,e)),delete c[n]},r.onerror=function(){r.parentNode.removeChild(r),e(new Error("JSONP request failed")),delete c[n]},null==o.data&&(o.data={}),o.url=u(o.url,o.data),o.data[o.callbackKey||"callback"]=n,r.src=d(o.url,o.data),c.document.documentElement.appendChild(r)});return!0===o.background?n:t(n)}function u(e,t){if(null==t)return e;for(var n=e.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var o=n[r].slice(1);null!=t[o]&&(e=e.replace(n[r],t[o]))}return e}function d(e,t){var n=m(t);""!==n&&(e+=(e.indexOf("?")<0?"?":"&")+n);return e}function f(e){try{return""!==e?JSON.parse(e):null}catch(t){throw new Error(e)}}function h(e){return e.responseText}function p(e,t){if("function"==typeof e){if(!Array.isArray(t))return new e(t);for(var n=0;n<t.length;n++)t[n]=new e(t[n])}return t}var s,l=0;return{request:t,jsonp:n,setCompletionCallback:e}}(window,h),p=function(e){function t(e){return W=e}function u(e){return e.attrs&&e.attrs.xmlns||r[e.tag]}function b(e,t,n,r,o,i,a){for(var s=n;s<r;s++){var l=t[s];null!=l&&S(e,l,o,a,i)}}function S(e,t,n,r,o){var i=t.tag;if("string"!=typeof i)return f(e,t,n,r,o);switch(t.state={},null!=t.attrs&&D(t.attrs,t,n),i){case"#":return a(e,t,o);case"<":return s(e,t,o);case"[":return l(e,t,n,r,o);default:return c(e,t,n,r,o)}}function a(e,t,n){return t.dom=X.createTextNode(t.children),k(e,t.dom,n),t.dom}function s(e,t,n){var r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(t.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",o=X.createElement(r);o.innerHTML=t.children,t.dom=o.firstChild,t.domSize=o.childNodes.length;for(var i,a=X.createDocumentFragment();i=o.firstChild;)a.appendChild(i);return k(e,a,n),a}function l(e,t,n,r,o){var i=X.createDocumentFragment();if(null!=t.children){var a=t.children;b(i,a,0,a.length,n,null,r)}return t.dom=i.firstChild,t.domSize=i.childNodes.length,k(e,i,o),i}function c(e,t,n,r,o){var i=t.tag,a=t.attrs,s=a&&a.is,l=(r=u(t)||r)?s?X.createElementNS(r,i,{is:s}):X.createElementNS(r,i):s?X.createElement(i,{is:s}):X.createElement(i);if(t.dom=l,null!=a&&x(t,a,r),k(e,l,o),null!=t.attrs&&null!=t.attrs.contenteditable)w(t);else if(null!=t.text&&(""!==t.text?l.textContent=t.text:t.children=[Y("#",undefined,undefined,t.text,undefined,undefined)]),null!=t.children){var c=t.children;b(l,c,0,c.length,n,null,r),q(t)}return l}function d(e,t){var n;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(n=e.state.view).$$reentrantLock$$)return J;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return J;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(e._state=e.state,null!=e.attrs&&D(e.attrs,e,t),D(e._state,e,t),e.instance=Y.normalize(e._state.view.call(e.state,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function f(e,t,n,r,o){if(d(t,n),null!=t.instance){var i=S(e,t.instance,n,r,o);return t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0,k(e,i,o),i}return t.domSize=0,J}function h(e,t,n,r,o,i,a){if(t!==n&&(null!=t||null!=n))if(null==t)b(e,n,0,n.length,o,i,a);else if(null==n)A(t,0,t.length,n);else{if(t.length===n.length){for(var s=!1,l=0;l<n.length;l++)if(null!=n[l]&&null!=t[l]){s=null==n[l].key&&null==t[l].key;break}if(s){for(l=0;l<t.length;l++)t[l]!==n[l]&&(null==t[l]&&null!=n[l]?S(e,n[l],o,a,C(t,l+1,i)):null==n[l]?A(t,l,l+1,n):E(e,t[l],n[l],o,C(t,l+1,i),r,a));return}}if(r=r||T(t,n)){var c=t.pool;t=t.concat(t.pool)}for(var u,d=0,f=0,h=t.length-1,p=n.length-1;d<=h&&f<=p;){if((v=t[d])!==(g=n[f])||r)if(null==v)d++;else if(null==g)f++;else if(v.key===g.key){var m=null!=c&&d>=t.length-c.length||null==c&&r;f++,E(e,v,g,o,C(t,++d,i),m,a),r&&v.tag===g.tag&&k(e,_(v),i)}else{if((v=t[h])!==g||r)if(null==v)h--;else if(null==g)f++;else{if(v.key!==g.key)break;m=null!=c&&h>=t.length-c.length||null==c&&r;E(e,v,g,o,C(t,h+1,i),m,a),(r||f<p)&&k(e,_(v),C(t,d,i)),h--,f++}else h--,f++}else d++,f++}for(;d<=h&&f<=p;){var v,g;if((v=t[h])!==(g=n[p])||r)if(null==v)h--;else if(null==g)p--;else if(v.key===g.key){m=null!=c&&h>=t.length-c.length||null==c&&r;E(e,v,g,o,C(t,h+1,i),m,a),r&&v.tag===g.tag&&k(e,_(v),i),null!=v.dom&&(i=v.dom),h--,p--}else{if(u||(u=L(t,h)),null!=g){var y=u[g.key];if(null!=y){var w=t[y];m=null!=c&&y>=t.length-c.length||null==c&&r;E(e,w,g,o,C(t,h+1,i),r,a),k(e,_(w),i),t[y].skip=!0,null!=w.dom&&(i=w.dom)}else{i=S(e,g,o,a,i)}}p--}else h--,p--;if(p<f)break}b(e,n,f,p+1,o,i,a),A(t,d,h+1,n)}}function E(e,t,n,r,o,i,a){var s=t.tag;if(s===n.tag){if(n.state=t.state,n._state=t._state,n.events=t.events,!i&&V(n,t))return;if("string"==typeof s)switch(null!=n.attrs&&(i?(n.state={},D(n.attrs,n,r)):B(n.attrs,n,r)),s){case"#":p(t,n);break;case"<":m(e,t,n,o);break;case"[":v(e,t,n,i,r,o,a);break;default:g(t,n,i,r,a)}else y(e,t,n,r,o,i,a)}else I(t,null),S(e,n,r,a,o)}function p(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children),t.dom=e.dom}function m(e,t,n,r){t.children!==n.children?(_(t),s(e,n,r)):(n.dom=t.dom,n.domSize=t.domSize)}function v(e,t,n,r,o,i,a){h(e,t.children,n.children,r,o,i,a);var s=0,l=n.children;if((n.dom=null)!=l){for(var c=0;c<l.length;c++){var u=l[c];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),s+=u.domSize||1)}1!==s&&(n.domSize=s)}}function g(e,t,n,r,o){var i=t.dom=e.dom;o=u(t)||o,"textarea"===t.tag&&(null==t.attrs&&(t.attrs={}),null!=t.text&&(t.attrs.value=t.text,t.text=undefined)),R(t,e.attrs,t.attrs,o),null!=t.attrs&&null!=t.attrs.contenteditable?w(t):null!=e.text&&null!=t.text&&""!==t.text?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(null!=e.text&&(e.children=[Y("#",undefined,undefined,e.text,undefined,e.dom.firstChild)]),null!=t.text&&(t.children=[Y("#",undefined,undefined,t.text,undefined,undefined)]),h(i,e.children,t.children,n,r,null,o))}function y(e,t,n,r,o,i,a){if(i)d(n,r);else{if(n.instance=Y.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&B(n.attrs,n,r),B(n._state,n,r)}null!=n.instance?(null==t.instance?S(e,n.instance,r,a,o):E(e,t.instance,n.instance,r,o,i,a),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=t.instance?(I(t.instance,null),n.dom=undefined,n.domSize=0):(n.dom=t.dom,n.domSize=t.domSize)}function T(e,t){if(null!=e.pool&&Math.abs(e.pool.length-t.length)<=Math.abs(e.length-t.length)){var n=e[0]&&e[0].children&&e[0].children.length||0,r=e.pool[0]&&e.pool[0].children&&e.pool[0].children.length||0,o=t[0]&&t[0].children&&t[0].children.length||0;if(Math.abs(r-o)<=Math.abs(n-o))return!0}return!1}function L(e,t){var n={},r=0;for(r=0;r<t;r++){var o=e[r];if(null!=o){var i=o.key;null!=i&&(n[i]=r)}}return n}function _(e){var t=e.domSize;if(null!=t||null==e.dom){var n=X.createDocumentFragment();if(0<t){for(var r=e.dom;--t;)n.appendChild(r.nextSibling);n.insertBefore(r,n.firstChild)}return n}return e.dom}function C(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function k(e,t,n){n&&n.parentNode?e.insertBefore(t,n):e.appendChild(t)}function w(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function A(e,t,n,r){for(var o=t;o<n;o++){var i=e[o];null!=i&&(i.skip?i.skip=!1:I(i,r))}}function I(n,r){function e(){if(++i===o&&(O(n),n.dom)){var e=n.domSize||1;if(1<e)for(var t=n.dom;--e;)N(t.nextSibling);N(n.dom),null==r||null!=n.domSize||F(n.attrs)||"string"!=typeof n.tag||(r.pool?r.pool.push(n):r.pool=[n])}}var t,o=1,i=0;n.attrs&&"function"==typeof n.attrs.onbeforeremove&&(null!=(t=n.attrs.onbeforeremove.call(n.state,n))&&"function"==typeof t.then&&(o++,t.then(e,e)));"string"!=typeof n.tag&&"function"==typeof n._state.onbeforeremove&&(null!=(t=n._state.onbeforeremove.call(n.state,n))&&"function"==typeof t.then&&(o++,t.then(e,e)));e()}function N(e){var t=e.parentNode;null!=t&&t.removeChild(e)}function O(e){if(e.attrs&&"function"==typeof e.attrs.onremove&&e.attrs.onremove.call(e.state,e),"string"!=typeof e.tag)"function"==typeof e._state.onremove&&e._state.onremove.call(e.state,e),null!=e.instance&&O(e.instance);else{var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];null!=r&&O(r)}}}function x(e,t,n){for(var r in t)i(e,r,null,t[r],n)}function i(e,t,n,r,o){var i=e.dom;if("key"!==t&&"is"!==t&&(n!==r||j(e,t)||"object"==typeof r)&&void 0!==r&&!U(t)){var a=t.indexOf(":");if(-1<a&&"xlink"===t.substr(0,a))i.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(a+1),r);else if("o"===t[0]&&"n"===t[1]&&"function"==typeof r)H(e,t,r);else if("style"===t)z(i,n,r);else if(t in i&&!M(t)&&o===undefined&&!P(e)){if("value"===t){var s=""+r;if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===s&&e.dom===X.activeElement)return;if("select"===e.tag)if(null===r){if(-1===e.dom.selectedIndex&&e.dom===X.activeElement)return}else if(null!==n&&e.dom.value===s&&e.dom===X.activeElement)return;if("option"===e.tag&&null!=n&&e.dom.value===s)return}if("input"===e.tag&&"type"===t)return void i.setAttribute(t,r);i[t]=r}else"boolean"==typeof r?r?i.setAttribute(t,""):i.removeAttribute(t):i.setAttribute("className"===t?"class":t,r)}}function q(e){var t=e.attrs;"select"===e.tag&&null!=t&&("value"in t&&i(e,"value",null,t.value,undefined),"selectedIndex"in t&&i(e,"selectedIndex",null,t.selectedIndex,undefined))}function R(e,t,n,r){if(null!=n)for(var o in n)i(e,o,t&&t[o],n[o],r);if(null!=t)for(var o in t)null!=n&&o in n||("className"===o&&(o="class"),"o"!==o[0]||"n"!==o[1]||U(o)?"key"!==o&&e.dom.removeAttribute(o):H(e,o,undefined))}function j(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===X.activeElement}function U(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function M(e){return"href"===e||"list"===e||"form"===e||"width"===e||"height"===e}function P(e){return e.attrs.is||-1<e.tag.indexOf("-")}function F(e){return null!=e&&(e.oncreate||e.onupdate||e.onbeforeremove||e.onremove)}function z(e,t,n){if(t===n&&(e.style.cssText="",t=null),null==n)e.style.cssText="";else if("string"==typeof n)e.style.cssText=n;else{for(var r in"string"==typeof t&&(e.style.cssText=""),n)e.style[r]=n[r];if(null!=t&&"string"!=typeof t)for(var r in t)r in n||(e.style[r]="")}}function H(e,t,n){var r=e.dom,o="function"!=typeof W?n:function(e){var t=n.call(r,e);return W.call(r,e),t};if(t in r)r[t]="function"==typeof n?o:null;else{var i=t.slice(2);if(e.events===undefined&&(e.events={}),e.events[t]===o)return;null!=e.events[t]&&r.removeEventListener(i,e.events[t],!1),"function"==typeof n&&(e.events[t]=o,r.addEventListener(i,e.events[t],!1))}}function D(e,t,n){"function"==typeof e.oninit&&e.oninit.call(t.state,t),"function"==typeof e.oncreate&&n.push(e.oncreate.bind(t.state,t))}function B(e,t,n){"function"==typeof e.onupdate&&n.push(e.onupdate.bind(t.state,t))}function V(e,t){var n,r;return null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate&&(n=e.attrs.onbeforeupdate.call(e.state,e,t)),"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeupdate&&(r=e._state.onbeforeupdate.call(e.state,e,t)),!(n===undefined&&r===undefined||n||r)&&(e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0)}function n(e,t){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],r=X.activeElement,o=e.namespaceURI;null==e.vnodes&&(e.textContent=""),Array.isArray(t)||(t=[t]),h(e,e.vnodes,Y.normalizeChildren(t),!1,n,null,"http://www.w3.org/1999/xhtml"===o?undefined:o),e.vnodes=t,null!=r&&X.activeElement!==r&&r.focus();for(var i=0;i<n.length;i++)n[i]()}var W,X=e.document,J=X.createDocumentFragment(),r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};return{render:n,setEventCallback:t}},r=function(e){function t(e,t){n(e),i.push(e,a(t))}function n(e){var t=i.indexOf(e);-1<t&&i.splice(t,2)}function r(){for(var e=1;e<i.length;e+=2)i[e]()}var o=p(e);o.setEventCallback(function(e){!1===e.redraw?e.redraw=undefined:r()});var i=[];return{subscribe:t,unsubscribe:n,redraw:r,render:o.render}}(window);n.setCompletionCallback(r.redraw);var o=function(r){return function(e,t){if(null===t)return r.render(e,[]),void r.unsubscribe(e);if(null==t.view&&"function"!=typeof t)throw new Error("m.mount(element, component) expects a component, not a vnode");var n=function(){r.render(e,Y(t))};r.subscribe(e,n),r.redraw()}};t.mount=o(r);var g=h,y=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},o=0;o<t.length;o++){var i=t[o].split("="),a=decodeURIComponent(i[0]),s=2===i.length?decodeURIComponent(i[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var l=a.split(/\]\[?|\[/),c=n;-1<a.indexOf("[")&&l.pop();for(var u=0;u<l.length;u++){var d=l[u],f=l[u+1],h=""==f||!isNaN(parseInt(f,10)),p=u===l.length-1;if(""===d)null==r[a=l.slice(0,u).join()]&&(r[a]=0),d=r[a]++;null==c[d]&&(c[d]=p?s:h?[]:{}),c=c[d]}}return n},i=function(u){function e(e){var t=u.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===e&&"/"!==t[0]&&(t="/"+t),t}function t(e){return function(){null==n&&(n=r(function(){n=null,e()}))}}function d(e,t,n){var r=e.indexOf("?"),o=e.indexOf("#"),i=-1<r?r:-1<o?o:e.length;if(-1<r){var a=-1<o?o:e.length,s=y(e.slice(r+1,a));for(var l in s)t[l]=s[l]}if(-1<o){var c=y(e.slice(o+1));for(var l in c)n[l]=c[l]}return e.slice(0,i)}var n,f="function"==typeof u.history.pushState,r="function"==typeof setImmediate?setImmediate:setTimeout,h={prefix:"#!",getPath:function(){switch(h.prefix.charAt(0)){case"#":return e("hash").slice(h.prefix.length);case"?":return e("search").slice(h.prefix.length)+e("hash");default:return e("pathname").slice(h.prefix.length)+e("search")+e("hash")}},setPath:function(e,n,t){var r={},o={};if(e=d(e,r,o),null!=n){for(var i in n)r[i]=n[i];e=e.replace(/:([^\/]+)/g,function(e,t){return delete r[t],n[t]})}var a=m(r);a&&(e+="?"+a);var s=m(o);if(s&&(e+="#"+s),f){var l=t?t.state:null,c=t?t.title:null;u.onpopstate(),t&&t.replace?u.history.replaceState(l,c,h.prefix+e):u.history.pushState(l,c,h.prefix+e)}else u.location.href=h.prefix+e},defineRoutes:function(s,l,c){function e(){var r=h.getPath(),o={},e=d(r,o,o),t=u.history.state;if(null!=t)for(var n in t)o[n]=t[n];for(var i in s){var a=new RegExp("^"+i.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(a.test(e))return void e.replace(a,function(){for(var e=i.match(/:[^\/]+/g)||[],t=[].slice.call(arguments,1,-2),n=0;n<e.length;n++)o[e[n].replace(/:|\./g,"")]=decodeURIComponent(t[n]);l(s[i],o,r,i)})}c(r,o)}f?u.onpopstate=t(e):"#"===h.prefix.charAt(0)&&(u.onhashchange=e),e()}};return h},w=function(e,r){var s,l,c,u,d,o=i(e),f=function(e){return e},n=function(e,t,n){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var i=function(){null!=s&&r.render(e,s(Y(l,c.key,c)))},a=function(e){if(e===t)throw new Error("Could not resolve default route "+t);o.setPath(t,null,{replace:!0})};o.defineRoutes(n,function(t,n,r){var o=d=function(e,t){o===d&&(l=null==t||"function"!=typeof t.view&&"function"!=typeof t?"div":t,c=n,u=r,d=null,s=(e.render||f).bind(e),i())};t.view||"function"==typeof t?o({},t):t.onmatch?g.resolve(t.onmatch(n,r)).then(function(e){o(t,e)},a):o(t,"div")},a),r.subscribe(e,i)};return n.set=function(e,t,n){null!=d&&((n=n||{}).replace=!0),d=null,o.setPath(e,t,n)},n.get=function(){return u},n.prefix=function(e){o.prefix=e},n.link=function(e){e.dom.setAttribute("href",o.prefix+e.attrs.href),e.dom.onclick=function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault(),e.redraw=!1;var t=this.getAttribute("href");0===t.indexOf(o.prefix)&&(t=t.slice(o.prefix.length)),n.set(t,undefined,undefined)}}},n.param=function(e){return void 0!==c&&void 0!==e?c[e]:c},n};t.route=w(window,r),t.withAttr=function(t,n,r){return function(e){n.call(r||this,t in e.currentTarget?e.currentTarget[t]:e.currentTarget.getAttribute(t))}};var b=p(window);t.render=b.render,t.redraw=r.redraw,t.request=n.request,t.jsonp=n.jsonp,t.parseQueryString=y,t.buildQueryString=m,t.version="1.1.6",t.vnode=Y,"undefined"!=typeof module?module.exports=t:window.m=t}();var LoadingSpinner={view:function(){return[m(".spinner",[m("div"),m("div"),m("div"),m("div")]),m(".ie-fallback","Loading\u2026")]}},ModalInitializer=function(t){function n(e){27==e.keyCode&&o()}function r(e){for(var t=e.target;t&&"body"!=t.tagName.toLowerCase();){if(UTIL.hasClass(t,"modal__content"))return;t=t.parentNode}t&&o()}function e(){if(!i(t.onOpen)||!1!==t.onOpen.apply(arguments,arguments)){var e=document.querySelector(t.selector);UTIL.addClass(document.body,"has-open-modal"),UTIL.addClass(e,"is-open"),document.addEventListener("keydown",n),document.addEventListener("click",r)}}function o(){if(!i(t.onClose)||!1!==t.onClose.apply(arguments)){var e=document.querySelector(t.selector);document.removeEventListener("keydown",n),document.removeEventListener("click",r),UTIL.removeClass(document.body,"has-open-modal"),UTIL.removeClass(e,"is-open")}}function i(e){return void 0!==e&&"function"==typeof e}return t=t||{},{open:e,close:o}},BuySellAds=function(){function e(){document.querySelector(".js-buysellads")&&t()}function r(){"undefined"!=typeof _bsa&&_bsa&&(bsa_script=document.getElementById("_bsa_srv-CKYDE2JI_0"),bsa_script&&bsa_script.parentNode.removeChild(bsa_script),_bsa.init("default","CKYDE2JI","placement:pexels",{target:"#photo-partner-box",image:"logo",default_text:"Partner Offer"}))}function t(){var e="__bsa_js__";if(document.getElementById(e))r();else{var t=document.getElementsByTagName("script")[0],n=document.createElement("script");n.id=e,n.src="//m.servedby-buysellads.com/monetization.js",n.onload=r,t.parentNode.insertBefore(n,t)}}return UTIL.ready(e),{init:t}}(),CarbonAds=function(){function e(e){TrackLinks.carbonClicks(".js-photo-modal .carbon-ad"),null!=window._carbonads?n(e):i||t()}function t(){var e,t,n,r,o;e=document,t="script",n="__carbon_js__",o=e.getElementsByTagName(t)[0],e.getElementById(n)||((r=e.createElement(t)).id=n,r.async=1,r.src="//cdn.carbonads.com/carbon.js?serve=CKYDE2JL&placement=pexelscom",o.parentNode.insertBefore(r,o)),i=!0}function n(e){e&&window._carbonads.reload(e)}var i=!1;return{init:e}}();!function(){function e(){var e=document.querySelectorAll(".js-click-dropdown");Array.prototype.forEach.call(e,function(e){new t(e)})}function t(t){function e(e){o?r(e):n(e)}function n(){UTIL.addClass(t,"click-dropdown--open"),o=!0,window.setTimeout(function(){document.addEventListener("click",r)},0)}function r(e){e&&e.target&&e.target.matches(".js-click-dropdown > div *")||(UTIL.removeClass(t,"click-dropdown--open"),o=!1,document.removeEventListener("click",r))}var o=!1;t.addEventListener("click",e)}UTIL.ready(e)}();var FormSpamProtections=function(){function e(){var e=document.querySelectorAll("[data-action]");Array.prototype.forEach.call(e,function(e){e.setAttribute("action",e.getAttribute("data-action"))})}return UTIL.ready(e),{init:e}}(),SignUpModal=function(){function e(e){var t=document.querySelector(a);if(!i){var n=t.getAttribute("data-sign-up-path");e&&(n+="?"+e),UTIL.getRequest(n,r,o)}}function t(){MobileAppBanner.show("sign-up-close")}function r(e){document.querySelector(a+" .modal__content").innerHTML=e,i=!0,FormSpamProtections.init()}function o(){}var i=!1,a=".js-sign-up-modal";return ModalInitializer({selector:a,onOpen:e,onClose:t})}(),CollectionPhotosListStore=function(){function e(){document.addEventListener("new-photos",t),t()}function t(){if(UTIL.isSignedIn())for(var e=s(),t=0;t<e.length;t++){var n=document.querySelectorAll(".js-collect-"+e[t]);Array.prototype.forEach.call(n,i)}}function i(e){e&&!UTIL.hasClass(e,o)&&(UTIL.addClass(e,o),UTIL.addClass(e.querySelector("svg"),"icon-check"),UTIL.removeClass(e.querySelector("svg"),"icon-plus"),e.querySelector("svg use").href.baseVal="#iconCheck",UTIL.hasClass(e,l)&&e.querySelector("svg").setAttribute("viewBox",c))}function a(e){if(e){var t=UTIL.hasClass(e,l);UTIL.removeClass(e,o),UTIL.addClass(e.querySelector("svg"),"icon-plus"),UTIL.removeClass(e.querySelector("svg"),"icon-check"),e.querySelector("svg use").href.baseVal=t?"#iconCirclePlus":"#iconPlus",t&&e.querySelector("svg").setAttribute("viewBox",u)}}function n(e,t){t=parseInt(t,10);var n=s(),r=n.indexOf(t),o=document.querySelector(".js-collect-"+t);"added"===e?(-1===r&&n.push(t),i(o)):"removed"===e&&(n.splice(r,1),a(o)),localStorage.collected=JSON.stringify(n)}function s(){var e=localStorage.collected,t=new Date(localStorage.collected_expire_at);return!e||t<new Date?(r(),[]):JSON.parse(e)}function r(){var e=new Date;e.setHours(e.getHours()+2),localStorage.collected_expire_at=e,m.request({method:"GET",url:"/collections/photos/",headers:{"X-CSRF-Token":UTIL.getCsrfToken()},withCredentials:!0}).then(function(e){e.not_signedin?Logout.logout():(localStorage.collected=JSON.stringify(e),t())})}var o="btn-like--active",l="btn-like--large",c="0 0 30 30",u="0 0 16 16";return UTIL.ready(e),{change:n}}(),CollectionStore=function(){function n(){return{"X-CSRF-Token":UTIL.getCsrfToken()}}function e(){null===p.list&&m.request({method:"GET",url:"/me/collections/",headers:n(),withCredentials:!0}).then(o)["catch"](r)}function r(){alert("Error: Please reload the page and try to collect the photo again. If it still doesn't work please contact: info@pexels.com")}function t(){return p}function o(e){e&&(p={list:e.map(function(e){return e.id}),byId:e.reduce(function(e,t){return e[t.id]=t,e},{})})}function i(e){if(e&&e.id){var t=e.id;Array.isArray(p.list)?-1===p.list.indexOf(t)&&p.list.unshift(t):p.list=[t],p.byId[t]=e,a()}}function a(){var e=!1;for(var t in g)l(t)&&(e=!0);CollectionPhotosListStore.change(e?"added":"removed",v)}function s(e){v!==e&&"string"==typeof e&&(g={},c(v=e))}function l(e){return Boolean(g[e])}function c(e){m.request({url:"/photo/:id/collections/",data:{id:e},headers:n(),withCredentials:!0}).then(function(e){Array.isArray(e)&&e.reduce(function(e,t){return e[t]=!0,e},g)})["catch"](r)}function u(e){g[e]=!0,m.request({method:"POST",url:"/collections/:id/photos/",data:{id:e,photo_id:v},headers:n(),withCredentials:!0}).then(i)["catch"](r),h("addToCollection")}function d(e){g[e]=!1,m.request({method:"DELETE",url:"/collections/:id/photos/",data:{id:e,photo_id:v},headers:n(),withCredentials:!0}).then(i)["catch"](r),h("removeFromCollection")}function f(e){var t=m.request({method:"POST",url:"/collections/",data:{title:e},headers:n(),withCredentials:!0});return t.then(function(e){i(e),u(e.id)})["catch"](r),h("createCollection"),t}function h(e){Track.event("collect",e,v)}var p={list:null,byId:{}},v=null,g={};return{data:t,load:e,isActive:l,setPhoto:s,addToCollection:u,removeFromCollection:d,createCollection:f}}(),CollectionModal=function(){function e(){m.mount(document.querySelector(o),i)}function t(){m.mount(document.querySelector(o),null),MobileAppBanner.show("collect")}var n=UTIL.getCookie("locale"),r=".js-collection-modal",o=r+" .modal__content",a="en-US"===n?"":"/"+n.toLowerCase(),s={view:function(e){var t=e.attrs,n=t.item,r=CollectionStore.isActive(n.id),o=(n.preview_images||[])[0];return m("li.l-lg-6",{key:n.id},[m(".collection.collection--small",{role:"button","data-collection-id":n.id,className:[r?"collection--active":"",t.hovered?"collection--hover":""].join(" "),onmouseenter:r&&m.withAttr("data-collection-id",t.onEnter),onmouseleave:t.onLeave,onclick:m.withAttr("data-collection-id",r?CollectionStore.removeFromCollection:CollectionStore.addToCollection)},[r&&[m("svg.icon-check.collection__icon",{viewBox:"0 0 24 24"},m("use",{"xlink:href":"#iconCheck"})),m("svg.icon-check.collection__icon.collection__icon--remove",{viewBox:"0 0 15 15"},m("use",{"xlink:href":"#iconPlus"}))],void 0===o?m("svg.icon-camera.collection__img.collection__img--placeholder",{viewBox:"0 0 16 16"},m("use",{"xlink:href":"#iconCamera"})):m(".collection__img.o-clip.o-clip--cover",{style:{backgroundImage:"url("+o+")"}}),m(".collection__body.collection__gradient",m("span",n.title))])])}},i={hoveredItem:null,toggleHovered:function(e){this.hoveredItem=e},oninit:function(){CollectionStore.load()},view:function(t){var n=CollectionStore.data(),r=t.state.hoveredItem,o=t.state.toggleHovered.bind(t.state),i=t.state.toggleHovered.bind(t.state,null);return m(".collections",[m(CreateCollection,{className:"collections__create js-create-toggle"}),m("h4.collections__title",[i18n("collection_save")]),null===n.list?m(LoadingSpinner):m("ul.collections__list.l-row",0===n.list.length?m("li.l-lg-6",m(".collection.collection--small.collection--empty",{onclick:function(e){e.stopPropagation(),t.dom.querySelector(".js-create-toggle button").click()}},[m(".collection__body",i18n("collection_create"))])):n.list.map(function(e){var t=n.byId[e];return t?m(s,{item:t,hovered:r===e,onEnter:o,onLeave:i}):null})),m("p.collections__footer",[m("a",{href:a+"/me/collections/"},[i18n("collection_view")])])])}};return ModalInitializer({selector:r,onClose:t,onOpen:e})}();!function(){function e(){document.addEventListener("new-photos",t),t()}function t(){var e=document.querySelectorAll(".js-collect");Array.prototype.forEach.call(e,function(e){e.getAttribute("data-initialized")||(e.setAttribute("data-initialized","true"),e.addEventListener("click",n))})}function n(e){e.stopPropagation();for(var t=e.target;"button"!=t.tagName.toLowerCase();)t=t.parentNode;var n=t.getAttribute("data-photo-id");if(!UTIL.isSignedIn())return r("not-signedin",n),void SignUpModal.open("photo_id="+n);r("opened",n),CollectionStore.setPhoto(n),CollectionModal.open()}function r(e,t){Track.event("collect",e,t)}UTIL.ready(e)}();var CreateCollection={isWorking:!1,hasError:!1,isOpen:!1,title:"",parent:null,handler:null,oncreate:function(n){try{var r=n.dom.parentNode.parentNode,e=function(e){if(n.state.isOpen){for(var t=e.target;t!==r;){if(t===n.dom)return;t=t.parentNode}n.state.isOpen=!1,m.redraw()}};n.state.parent=r,n.state.handler=e,r.addEventListener("click",e)}catch(t){}},onbeforeremove:function(e){e.state.parent&&e.state.parent.removeEventListener("click",e.state.handler)},onupdate:function(e){if(e.state.isOpen){var t=e.dom.querySelector("input");t!==document.activeElement&&t.focus()}},view:function(e){var t=e.attrs,n=e.state,r=t.className||"";return m("div.click-dropdown",{className:n.isOpen?r+" click-dropdown--open":r},[m('button.btn-quiet.btn--sm[type="button"]',{onclick:function(e){e.preventDefault(),n.isOpen=!n.isOpen}},i18n("collection_create")),n.isOpen&&m(".click-dropdown__content.btn__dropdown",[m("form.form.form--padded.clearfix",{className:n.hasError?"field_with_errors":"",onsubmit:function(e){e.preventDefault(),n.isWorking||(n.title?(n.isWorking=!0,CollectionStore.createCollection(n.title).then(function(){n.isWorking=!1,n.hasError=!1,n.isOpen=!1,n.title=""})):n.hasError=!0)}},[m(".margin-bottom",[m("label.form__label",{"for":"collection_title"},i18n("collection_title")),m('input.form__input[type="text"]',{oninput:m.withAttr("value",function(e){n.title=e}),value:n.title,name:"collection_title",id:"collection_title"})]),m('button.btn-secondary.pull-right[type="submit"]',{className:n.isWorking?"disabled":"",disabled:n.isWorking},i18n("collection_create"))])])])}},CookieConsent=function(){function e(e){"de"==e&&(localStorage.getItem(r)!=o&&(UTIL.isSignedIn()?localStorage.setItem(r,o):t()))}function t(){UTIL.ready(function(){var e=document.querySelector(".js-cookie-consent");e.classList.remove("hidden"),e.querySelector("button").addEventListener("click",n)})}function n(){document.querySelector(".js-cookie-consent").classList.add("hidden"),localStorage.setItem(r,o)}var r="cookieconsent",o="2";return{setCountry:e}}(),CopyText=function(){function e(){var e=document.querySelector(".js-copy-button");e&&e.addEventListener("click",t)}function t(){var e=document.querySelector(".js-copy-textarea"),t=document.createRange();t.selectNode(e),window.getSelection().addRange(t);try{document.execCommand("copy")}catch(r){}var n=document.querySelector(".js-copy-success");UTIL.removeClass(n,"hidden")}return UTIL.ready(e),{init:e}}(),DownloadOverlay=function(){function e(){var e=document.querySelectorAll(".photo-modal__content"),t=document.querySelectorAll(".photo-modal__close"),n=e.length-1;UTIL.removeClass(e[n],"photo-modal__content--hidden"),t[n].addEventListener("click",function(){UTIL.addClass(e[n],"photo-modal__content--hidden")})}return{open:e}}(),PredictionsModal=function(){function init(){if(!UTIL.isSignedIn()&&!wasOpened&&680<window.innerWidth){wasOpened=!0;var locale=UTIL.getCookie("locale"),linkPrefix="en-US"===locale?"":"/"+locale.toLowerCase(),trackingId=Analytics.getAnonymousId(),path=linkPrefix+"/predictions/?tid="+trackingId,request=UTIL.scriptRequest(path);request.onload=function(){200==request.status&&(eval(request.responseText),track("show"))},request.send()}}function isLoaded(){var e=document.querySelector(".js-predictions-modal-close");e&&e.addEventListener("click",close)}function close(e){e.preventDefault(),track("close");var t=document.querySelector(".js-predictions-modal");UTIL.addClass(t,"hidden")}function track(e){Track.event("track-click","predictions-modal",e)}var wasOpened=!1;return{init:init,isLoaded:isLoaded}}();Download=function(){function e(){o=Analytics.getAnonymousId();var e=document.querySelectorAll(".js-download");e&&Array.prototype.forEach.call(e,function(e){e.getAttribute("data-initialized")||(e.setAttribute("data-initialized","true"),e.addEventListener("click",t))})}function t(){n("click",this.getAttribute("data-id")),DownloadOverlay.open(),PredictionsModal.init(),MobileAppBanner.show("download")}function n(e,t){Track.event("download",e,t);var n=Analytics.getSearchQueryFromReferrer();r("/photo/td/",{photo_id:t,tracking_id:o,search_query:n})}function r(e,t){var n=new XMLHttpRequest,r=document.querySelector('meta[name="csrf-token"]').getAttribute("content");n.open("POST",e,!0),n.setRequestHeader("X-CSRF-Token",r),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t))}var o;return UTIL.ready(e),{init:e,track:n}}();var CustomDownload=function(){function e(){var e=document.getElementsByClassName("js-download-size-btn");Array.prototype.forEach.call(e,function(e){var t=e.nextElementSibling;if(t&&!t.getAttribute("data-initialized")){t.setAttribute("data-initialized","true");var n=t.querySelector(".custom-size__width");if(n){var r=t.querySelector(".custom-size__height"),o={customHeightInput:r,customWidthInput:n,customSizeRadio:t.querySelector("#custom-size__value"),dropdown:t};c(o),r.addEventListener("input",function(){s(o)}),n.addEventListener("input",function(){l(o)}),Array.prototype.forEach.call(t.getElementsByClassName("select-list__item"),function(e){e.addEventListener("click",i)}),t.querySelector(".custom-size__submit").addEventListener("click",function(e){a(e,this,o)})}}})}function i(){this.querySelector('input[type="radio"]').checked=!0,Array.prototype.forEach.call(document.getElementsByClassName("select-list__item"),function(e){UTIL.removeClass(e,"select-list--active")}),UTIL.addClass(this,"select-list--active")}function a(e,t,n){var r,o,i,a,s=n.customHeightInput,l=n.customWidthInput;if(n.customSizeRadio.checked){if(!("function"!=typeof l.checkValidity||l.checkValidity()&&s.checkValidity()))return;f(r=l.value,o=s.value),i=r+"x"+o}else{var c=(a=n.dropdown.querySelector('input[name="download-size"]:checked')).value.split("x");r=c[0],o=c[1],i=a.getAttribute("data-name")}if(e.preventDefault(),a&&null!==a.getAttribute("data-alt-url")&&"download"in document.createElement("a")&&-1===navigator.userAgent.search("Firefox")){var u=document.createElement("a");u.setAttribute("href",a.getAttribute("data-alt-url")),u.setAttribute("download",""),u.click()}else{var d=t.getAttribute("data-url")+"?dl&fit=crop&crop=entropy&w="+r+"&h="+o;window.location.href=d}Download.track(i,t.getAttribute("data-id")),DownloadOverlay.open()}function s(e){var t=e.customHeightInput.value,n=Math.round(t*e.customHeightInput.getAttribute("data-aspect-ratio"));e.customWidthInput.placeholder=n}function l(e){var t=e.customWidthInput.value,n=Math.round(t*e.customWidthInput.getAttribute("data-aspect-ratio"));e.customHeightInput.placeholder=n}function c(e){var t=JSON.parse(localStorage.getItem("customDownloadSize"));t&&(t.height||t.width)&&(e.customHeightInput.value=t.height,e.customWidthInput.value=t.width,s(e),l(e))}function f(e,t){var n={width:e,height:t};localStorage.setItem("customDownloadSize",JSON.stringify(n))}return UTIL.ready(e),{init:e}}();UTIL.ready(function(){var e=document.querySelectorAll(".rd__dropdown"),a="rd__dropdown--active",c="rd__dropdown--right",u=".rd__dropdown__container__content__pointer",d=".rd__button:first-child",s=500,l=150,f="data-open",h=500,p=function(e){var t=e.querySelector(u),n=e.querySelector(d);if(t&&n){var r=t.offsetWidth,o=n.offsetWidth,i=window.getComputedStyle(n),a=i.marginRight,s=i.marginLeft;s=parseInt(s,10),a=parseInt(a,10);var l=o/2-r/2;UTIL.hasClass(e,c)?(t.style.left=null,t.style.right=l+a+"px"):(t.style.right=null,t.style.left=l+s+"px")}},t=UTIL.debounce(function(){var n=window.innerWidth;e.forEach(function(e){var t=e.offsetLeft+e.offsetWidth/2<n/2;window.requestAnimationFrame(function(){t?UTIL.removeClass(e,c):UTIL.addClass(e,c)})})},100);t(),window.addEventListener("resize",function(){return t()}),e.forEach(function(e){var t=undefined,n=undefined,r=undefined,o=e.querySelector(d),i=function(){clearTimeout(t),clearTimeout(n),clearTimeout(r),t=undefined,n=undefined,r=undefined};o&&o.addEventListener("click",function(){void 0===r&&(i(),UTIL.toggleClass(e,a),o.setAttribute(f,"open"))}),e.addEventListener("mouseenter",function(){i(),n=setTimeout(function(){UTIL.hasClass(e,a)||(r=setTimeout(function(){i()},h)),UTIL.addClass(e,a),o&&o.setAttribute(f,"open"),p(e)},l)}),e.addEventListener("mouseleave",function(){i(),t=setTimeout(function(){UTIL.removeClass(e,a),o&&o.removeAttribute(f)},s)})})});var Dropdown=function(){function e(){var e=document.getElementsByClassName("js-dropdown");e.length&&Array.prototype.forEach.call(e,function(e){e.getAttribute("data-initialized")||new t(e)})}function t(e){function t(e){o||e.preventDefault(),clearTimeout(r),s(),UTIL.addClass(a,"open")}function n(){clearTimeout(r),r=window.setTimeout(function(){UTIL.removeClass(a,"open")},400)}var r,o="true"==e.getAttribute("data-is-clickable"),i=e.getAttribute("data-dropdown-selector")||e.getAttribute("href"),a=null!=e.nextElementSibling&&e.nextElementSibling.matches(i)?e.nextElementSibling:document.querySelector(i);e.addEventListener("mouseenter",t),e.addEventListener("click",t),a.addEventListener("mousemove",t),a.addEventListener("mouseleave",n),e.addEventListener("mouseleave",n),e.setAttribute("data-initialized","true")}function s(){var e=document.querySelectorAll(".btn__dropdown.open");Array.prototype.forEach.call(e,n)}function n(e){UTIL.removeClass(e,"open")}return UTIL.ready(e),{init:e}}(),FollowingActionHandler=function(){function e(){document.addEventListener("new-photos",t),document.addEventListener("new-users",t),t()}function t(){var e=document.querySelectorAll(".js-follow");Array.prototype.forEach.call(e,function(e){e.getAttribute("data-initialized")||(e.setAttribute("data-initialized","true"),e.addEventListener("click",n))})}function n(e){e.stopPropagation();for(var t=e.target;"button"!=t.tagName.toLowerCase();)t=t.parentNode;var n,r,o=t.getAttribute("data-follow-track-label"),i=t.getAttribute("data-user-id");if(!UTIL.isSignedIn())return u("not-signedin",o),void SignUpModal.open("user_id="+i);UTIL.hasClass(t,d)?(n="/followers/follow/",r="DELETE",c(t),u("unfollow",o)):(n="/followers/follow/",r="POST",l(t),u("follow",o)),m.request({url:n+"?user_id="+i,method:r,background:!0,headers:{"X-CSRF-Token":UTIL.getCsrfToken()}}).then(a)["catch"](s)}function a(e){e.not_signedin?(SignUpModal.open(),Logout.logout()):FollowingStore.handleFollow(e.action,e.user_id)}function s(){alert("Error: Please reload the page and try to follow the user again. If it still doesn't work please contact: info@pexels.com")}function l(e){UTIL.addClass(e,d),UTIL.hasClass(e,i)?(o||(o=e.innerHTML),e.innerHTML="\u2713"):(o||(r=e.innerHTML),e.innerHTML=i18n("following"))}function c(e){UTIL.removeClass(e,d),UTIL.hasClass(e,i)?e.innerHTML=o:e.innerHTML=r}function u(e,t){Track.event("follow",e,t)}var r,o,d="rd__button--white",i="btn-follow--tiny";return UTIL.ready(e),{activateFollowBtn:l}}(),FollowingStore=function(){function e(){document.addEventListener("new-photos",t),document.addEventListener("new-users",t),t()}function t(){if(UTIL.isSignedIn())for(var e=o(),t=0;t<e.length;t++){var n=document.querySelectorAll(".js-follow-"+e[t]);Array.prototype.forEach.call(n,FollowingActionHandler.activateFollowBtn)}}function n(e,t){var n=o();if("follow"==e)-1==n.indexOf(t)&&n.push(t);else if("unfollow"==e){var r=n.indexOf(t);n.splice(r,1)}localStorage.followings=JSON.stringify(n)}function o(){var e=localStorage.followings,t=new Date(localStorage.followings_expire_at);return!e||t<new Date?(r(),[]):JSON.parse(e)}function r(){UTIL.getRequest("/followers/followings/",i,a);var e=new Date;e.setHours(e.getHours()+2),localStorage.followings_expire_at=e}function i(e){JSON.parse(e).not_signedin?Logout.logout():(localStorage.followings=e,t())}function a(){}return UTIL.ready(e),{handleFollow:n}}();!function(){function init(){if(homeLinks=document.querySelectorAll(".js-home-link"),homeTexts=document.querySelectorAll(".js-home-text"),activeLink=document.querySelector("."+TAB_ACTIVE_CLASS),homeLinks&&activeLink){Array.prototype.forEach.call(homeLinks,function(e){e.addEventListener("click",changeTab)}),window.addEventListener("popstate",onBack),activeName=activeLink.getAttribute("data-name");var e=history.state||{};e.activeHomeTab=activeName,window.history.replaceState(e,document.title,document.URL)}}function onBack(){if(history.state&&history.state.activeHomeTab&&activeName!=history.state.activeHomeTab){var e=document.querySelector("."+history.state.activeHomeTab);e&&(activeName=e.getAttribute("data-name"),loadPhotos(e))}}function changeTab(e){if(clickWithKeyPressed(e))return!1;e.preventDefault(),activeName=e.target.getAttribute("data-name");history.state;window.history.pushState({activeHomeTab:activeName},document.title,e.target.getAttribute("href")),Track.page(),loadPhotos(e.target)}function loadPhotos(link){ENDLESS_SCROLLING.terminate(),document.querySelector(".photos").innerHTML="",document.querySelector(".js-pagination").innerHTML="",homeTexts.forEach(function(e){return e.innerHTML=""}),Array.prototype.forEach.call(homeLinks,function(e){UTIL.removeClass(e,TAB_ACTIVE_CLASS)}),UTIL.addClass(link,TAB_ACTIVE_CLASS),history&&history.state&&(history.state.pos=window.pageYOffset);var url=link.getAttribute("data-url")+"&format=js",request=UTIL.scriptRequest(url);request.onload=function(){200<=request.status&&request.status<400&&(eval(request.responseText),ENDLESS_SCROLLING.init())},request.send()}function clickWithKeyPressed(e){return e&&(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)}var homeLinks,activeLink,activeName,homeTexts,TAB_ACTIVE_CLASS="title-tabs__tab--active";UTIL.ready(init)}(),UTIL.ready(initHotjar);var LikeStore=function(){function e(){document.addEventListener("new-photos",t),t()}function t(){if(UTIL.isSignedIn())for(var e=o(),t=0;t<e.length;t++){var n=document.querySelectorAll(".js-like-"+e[t]);Array.prototype.forEach.call(n,function(e){UTIL.addClass(e,s),UTIL.addClass(e,l)})}}function n(e,t){var n=o();if("like"==e)-1==n.indexOf(t)&&n.push(t);else if("unlike"==e){var r=n.indexOf(t);n.splice(r,1)}localStorage.likes=JSON.stringify(n)}function o(){var e=localStorage.likes,t=new Date(localStorage.likes_expire_at);return!e||t<new Date?(r(),[]):JSON.parse(e)}function r(){UTIL.getRequest("/likes/",i,a);var e=new Date;e.setHours(e.getHours()+2),localStorage.likes_expire_at=e}function i(e){JSON.parse(e).not_signedin?Logout.logout():(localStorage.likes=e,t())}function a(){}var s="btn-like--active",l="btn-like--no-animations";return UTIL.ready(e),{handleLike:n}}();!function(){function e(){document.addEventListener("new-photos",t),t()}function t(){var e=document.querySelectorAll(".js-like");Array.prototype.forEach.call(e,function(e){e.getAttribute("data-initialized")||(e.setAttribute("data-initialized","true"),e.addEventListener("click",n))})}function n(e){e.stopPropagation();for(var t=e.target;"button"!=t.tagName.toLowerCase();)t=t.parentNode;var n,r,o=t.getAttribute("data-photo-id");if(!UTIL.isSignedIn())return s("not-signedin",o),void SignUpModal.open("photo_id="+o);UTIL.hasClass(t,l)?(n="/photo/PHOTO_ID/likes/",r="DELETE",UTIL.removeClass(t,c),UTIL.removeClass(t,l),s("unlike",o)):(n="/photo/PHOTO_ID/likes/",r="POST",UTIL.addClass(t,l),s("like",o)),m.request({url:n.replace("PHOTO_ID",o),method:r,background:!0,headers:{"X-CSRF-Token":UTIL.getCsrfToken()}}).then(i)["catch"](a)}function i(e){e.not_signedin?(SignUpModal.open(),Logout.logout()):LikeStore.handleLike(e.action,e.photo_id)}function a(){alert("Error: Please reload the page and try to like the photo again. If it still doesn't work please contact: info@pexels.com")}function s(e,t){Track.event("like",e,t)}var l="btn-like--active",c="btn-like--no-animations";UTIL.ready(e)}(),function(){function e(){(r=document.querySelector(".js-chart-container"))&&t(n)}function t(e){var t=window.location.pathname.replace(/\/$/,"")+"/image_view_chart",n=UTIL.scriptRequest(t);n.onload=function(){r.innerHTML=n.responseText,e()},n.send()}function n(){var e=document.querySelector(".js-chart-data");if(e){var t=e.getAttribute("data-title"),n=JSON.parse(e.getAttribute("data-labels")),r=JSON.parse(e.getAttribute("data-data")),o=document.getElementById("chart");new Chart(o,{type:"line",data:{labels:n,datasets:[{label:t,backgroundColor:"rgba(5, 160, 129, .2)",borderColor:"rgba(5, 160, 129, 1)",pointBackgroundColor:"#fff",data:r}]},options:{legend:{display:!1},tooltips:{xPadding:10,yPadding:10},scales:{yAxes:[{ticks:{callback:function(e){return 1e6<=e?e/1e6+"M":1e3<=e?e/1e3+"k":e}}}]}}})}}var r;UTIL.ready(e)}();var MobileAppBanner=function(){function e(){document.querySelector('.navbar input[type="search"]').value.includes("wallpaper")&&setTimeout(function(){t("wallpaper")},6e3)}function t(e){var t=s();if(!t||d||580<window.outerWidth)return!1;c=e;var n=l();if(n[c]&&n[c].hideUntil&&new Date(n[c].hideUntil)>new Date)return!1;d=!0;var r="/mobile_banner/LANG/TYPE/OS/",o=UTIL.getLocale();r=r.replace("LANG",o).replace("OS",t).replace("TYPE",c);var i=UTIL.scriptRequest(r);return i.onload=function(){200==i.status&&(document.body.insertAdjacentHTML("beforeend",i.responseText),(u=document.querySelector(".js-mobile-app-banner")).querySelector(".js-mobile-app-banner-close").addEventListener("click",function(e){e.stopPropagation(),a()}),TrackLinks.bindEvents(u.querySelectorAll("a")))},i.send(),!0}function a(){if(d){UTIL.addClass(u,"hidden");var e=l();e[c]||(e[c]={});var t=new Date;t.setDate(t.getDate()+7),e[c].hideUntil=t,localStorage.setItem("mobile_banner_settings",JSON.stringify(e))}}function s(){var e=navigator.userAgent||navigator.vendor||window.opera;if(!/windows phone/i.test(e))return/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":void 0}function l(){return JSON.parse(localStorage.getItem("mobile_banner_settings"))||{}}var c,u,d=!1;return UTIL.ready(e),{show:t,hide:a}}(),_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Navbar=function(){function t(){var e=this;_classCallCheck(this,t),this.timeout=null,this.overlayOpenState=!1,this.SCROLL_THRESHOLD=100,this.transparencyClassWasRemoved=!1,this.OUTRO_ANIMATION_TIME=600,this.HERO_ELEMENT=document.querySelector(".hero"),this.NAVBAR_ELEMENT=document.querySelector(".navbar"),this.NAVBAR_TRANSPARENT_CLASSNAME="navbar--transparent",this.HAMBURGER_BUTTON=document.querySelector(".js-nav-hamburger-button"),this.OVERLAY_ELEMENT=document.querySelector(".js-navbar-mobile-overlay"),this.OVERLAY_ACTIVE_CLASS="navbar__overlay--active",this.OVERLAY_OUT_CLASS="navbar__overlay--out",this.HAMBURGER_BUTTON.addEventListener("click",function(){return e.toggleOverlay()}),window.addEventListener("scroll",function(){return e.onScroll()})}return _createClass(t,[{key:"onScroll",value:function(){this.overlayOpenState||this.HERO_ELEMENT&&(document.documentElement.scrollTop>this.SCROLL_THRESHOLD||document.body.scrollTop>this.SCROLL_THRESHOLD?UTIL.removeClass(this.NAVBAR_ELEMENT,this.NAVBAR_TRANSPARENT_CLASSNAME):UTIL.addClass(this.NAVBAR_ELEMENT,this.NAVBAR_TRANSPARENT_CLASSNAME))}},{key:"toggleOverlay",value:function(){this.overlayOpenState?this.closeOverlay():this.openOverlay(),this.overlayOpenState=!this.overlayOpenState}},{key:"openOverlay",value:function(){this.OVERLAY_ELEMENT.style.top=this.navbarHeight+"px",this.removeNavbarsTransparencyClassIfExists(),clearTimeout(this.timeout),UTIL.removeClass(this.OVERLAY_ELEMENT,this.OVERLAY_OUT_CLASS),UTIL.addClass(this.OVERLAY_ELEMENT,this.OVERLAY_ACTIVE_CLASS)}},{key:"closeOverlay",value:function(){var e=this;this.addNavbarsTransparencyClassIfNecessary(),clearTimeout(this.timeout),UTIL.addClass(this.OVERLAY_ELEMENT,this.OVERLAY_ACTIVE_CLASS),UTIL.addClass(this.OVERLAY_ELEMENT,this.OVERLAY_OUT_CLASS),this.timeout=setTimeout(function(){UTIL.removeClass(e.OVERLAY_ELEMENT,e.OVERLAY_ACTIVE_CLASS),UTIL.removeClass(e.OVERLAY_ELEMENT,e.OVERLAY_OUT_CLASS),e.OVERLAY_ELEMENT.style.top=undefined},this.OUTRO_ANIMATION_TIME)}},{key:"addNavbarsTransparencyClassIfNecessary",value:function(){this.transparencyClassWasRemoved&&(UTIL.addClass(this.NAVBAR_ELEMENT,this.NAVBAR_TRANSPARENT_CLASSNAME),this.transparencyClassWasRemoved=!1)}},{key:"removeNavbarsTransparencyClassIfExists",value:function(){UTIL.hasClass(this.NAVBAR_ELEMENT,this.NAVBAR_TRANSPARENT_CLASSNAME)?(this.transparencyClassWasRemoved=!0,UTIL.removeClass(this.NAVBAR_ELEMENT,this.NAVBAR_TRANSPARENT_CLASSNAME)):this.transparencyClassWasRemoved=!1}},{key:"navbarHeight",get:function(){return this.NAVBAR_ELEMENT.getBoundingClientRect().height}}]),t}();UTIL.ready(function(){return new Navbar});var Notifications=function(){function init(){UTIL.isSignedIn()&&(notificationsTriggerEl=document.querySelector(NOTIFICATIONS_TRIGGER_SELECTOR))&&(checkForNewNotifications(),notificationsTriggerEl.addEventListener("mouseenter",function(){setTimeout(function(){notificationsTriggerEl.dataset.open&&updateWhenNotificationsWhereLastSeenAt()},LENGTH_IN_MS_NOTIFICATIONS_ARE_OPEN_BEFORE_CLEARING_UNSEEN)}),notificationsTriggerEl.addEventListener("mouseenter",function(){notificationsScrollContainerEl=document.querySelector(NOTIFICATIONS_SCROLL_CONTAINER_SELECTOR),notificationsContentContainerEl=document.querySelector(NOTIFICATIONS_CONTENT_CONTAINER_SELECTOR),loadNotifications(),notificationsScrollContainerEl.addEventListener("scroll",checkIfNearBottom),notificationsTriggerEl.removeEventListener("mouseenter",this)}))}function removeActiveStatusFromNotificationIcon(){var e=notificationsTriggerEl.querySelector(NOTIFICATION_ICON_SELECTOR);e&&UTIL.removeClass(e,NOTIFICATION_ICON_ACTIVE_CLASS)}function addActiveStatusToNotificationIcon(){var e=notificationsTriggerEl.querySelector(NOTIFICATION_ICON_SELECTOR);e&&UTIL.addClass(e,NOTIFICATION_ICON_ACTIVE_CLASS)}function watchForClicksOnNewNotifications(){notificationsContentContainerEl.querySelectorAll(UNSEEN_NOTIFICATION_ICON_SELECTOR).forEach(function(e){e.addEventListener("click",updateWhenNotificationsWhereLastSeenAt)})}function updateWhenNotificationsWhereLastSeenAt(){UTIL.postRequest({url:"/me/notifications/seen/"},function(){removeActiveStatusFromNotificationIcon()},function(){})}function loadNotifications(){if(!isLoading)if(isLastPage)notificationsScrollContainerEl.removeEventListener("scroll",checkIfNearBottom);else{isLoading=!0;var url=notificationsContentContainerEl.getAttribute("data-url");url+="?page="+page,seed&&(url+="&seed="+seed),lastSeenAt&&(url+="&last_seen_at="+lastSeenAt);var request=UTIL.scriptRequest(url);request.onload=function(){eval(request.responseText),page+=1,isLoading=!1,checkIfNearBottom(),watchForClicksOnNewNotifications()},request.send()}}function checkIfNearBottom(){var e=notificationsScrollContainerEl.scrollTop+notificationsScrollContainerEl.clientHeight;notificationsScrollContainerEl.scrollHeight<e+400&&loadNotifications()}function setLastPage(){isLastPage=!0}function setSeed(e){seed=e}function checkForNewNotifications(){window.setTimeout(checkForNewNotifications,6e5),UTIL.getRequest("/me/notifications/check/",function(e){!0===JSON.parse(e).has_new_notifications&&(addActiveStatusToNotificationIcon(),reset())},function(){})}function reset(){isLastPage=!1,page=1,seed=undefined,notificationsContentContainerEl&&(notificationsContentContainerEl.innerHTML="")}var NOTIFICATIONS_TRIGGER_SELECTOR=".js-notifications-trigger",NOTIFICATIONS_SCROLL_CONTAINER_SELECTOR=".js-notifications-scroll-container",NOTIFICATIONS_CONTENT_CONTAINER_SELECTOR=".js-notifications-content-container",NOTIFICATION_ICON_SELECTOR=".js-notification-icon",NOTIFICATION_ICON_ACTIVE_CLASS="rd__icon--notifications--active",UNSEEN_NOTIFICATION_ICON_SELECTOR=".js-notification-not-seen",LENGTH_IN_MS_NOTIFICATIONS_ARE_OPEN_BEFORE_CLEARING_UNSEEN=2e3,notificationsTriggerEl,notificationsContentContainerEl,notificationsScrollContainerEl,seed,isLoading=!1,isLastPage=!1,page=1,lastSeenAt;return UTIL.ready(init),{setLastPage:setLastPage,setSeed:setSeed,setLastSeenAt:function(e){lastSeenAt=e}}}();!function(){function e(){document.querySelector(".js-photo-predictions .photos")&&InitiatePhotoGrid({selector:".js-photo-predictions .photos",type:"predictions"})}UTIL.ready(e)}();var PhotoHelpers=function(){function e(e){return void 0===e&&(e=window.location.pathname),null!=e.match(o)}function t(e){var t=window.history.state;return null==t?null:"string"==typeof e?t[e]:t}function n(){var e=window.innerHeight,t=window.innerWidth;return e<681||t<1281?650:Math.min(750,e-70)}function r(){var e=window.innerHeight,t=window.innerWidth;return e<681||t<1281?940:1260}var o=/^\/photo\/|\/pt-br\/foto\/|\/es-es\/foto\/|\/de-de\/foto\/|\/id-id\/foto\/|\/pl-pl\/zdjecie\/|\/ja-jp\/photo\/|\/nl-nl\/foto\//;return{getState:t,getMaxHeight:n,getMaxWidth:r,isPhotoPath:e}}(),PhotoZoom=function(){function n(s){return function(e){var t=s.attrs.bounds,n=null==e.touches?e:e.touches[0],r=n.clientX,o=n.clientY;if(n!==e){e.preventDefault();var i=l(-(s.state.startX-r)/t.width),a=l(-(s.state.startY-o)/t.height);return s.state.offsetX=c(s.state.startOffsetX-i),void(s.state.offsetY=c(s.state.startOffsetY-a))}s.state.offsetX=c(l((r-t.left)/t.width)),s.state.offsetY=c(l((o-t.top)/t.height))}}function r(t){return function(e){t.state.startX=e.touches[0].clientX,t.state.startY=e.touches[0].clientY,t.state.startOffsetX=t.state.offsetX,t.state.startOffsetY=t.state.offsetY}}function o(r,o,i){function e(e){e.preventDefault(),e.stopPropagation(),document.addEventListener("click",a);var t=null==e.touches?e:e.touches[0],n=r.getAttribute("data-zoom-src");m.mount(o,{view:function(){return m(d,{bounds:r.getBoundingClientRect(),placeholderSrc:r.currentSrc,prefix:i&&i.prefix,x:t.clientX,y:t.clientY,zoomSrc:n})}}),Track.event("photo-zoom","in",s(n))}function a(){document.removeEventListener("click",a),m.mount(o,null),Track.event("photo-zoom","out",s(r.getAttribute("data-zoom-src")))}r.addEventListener("click",e)}function e(e,t){null==e&&(e=document);var n=e.querySelector(".js-photo-zoom"),r=e.querySelector(".js-photo-zoom-target");n&&o(n,r,t)}function s(e){if(null==e)return"";var t=f.exec(e);return t&&t[1]?t[1]:""}function l(e){return 100*e}function c(e){return Math.min(100,Math.max(0,e))}UTIL.ready(e);var i=3,a=831,u={view:function(e){var t=e.attrs,n=null==t.prefix?".page-wrap ":t.prefix;return m("style",[n+".image-section__content { overflow: hidden; opacity: 0.85; }",n+".image-section__zoom,",n+".image-section__zoom__target {","  display: block;","  background-size: "+t.width+"px "+t.height+"px;","  background-position: "+t.offsetX+"% "+t.offsetY+"%;",window.innerWidth<a?"height: "+t.height/i+"px;":"","}",n+".image-section__zoom {",'  background-image: url("'+t.placeholderSrc+'");',"}",n+".image-section__zoom__target {",null==t.zoomSrc?"":'  background-image: url("'+t.zoomSrc+'");',"}"])}},d={offsetX:0,offsetY:0,height:0,width:0,oninit:function(e){var t=e.attrs.bounds;e.state.height=t.height*i|0,e.state.width=t.width*i|0,e.state.offsetX=c(l((e.attrs.x-t.left)/t.width)),e.state.offsetY=c(l((e.attrs.y-t.top)/t.height)),e.state.onMove=n(e),e.state.onTouch=r(e)},view:function(e){var t=e.attrs,n=e.state;return[m(".image-section__zoom__target.absolute",{onmousemove:n.onMove,ontouchmove:n.onMove,ontouchstart:n.onTouch}),m(u,{width:n.width,height:n.height,offsetX:n.offsetX,offsetY:n.offsetY,prefix:t.prefix,placeholderSrc:t.placeholderSrc,zoomSrc:t.zoomSrc})]}},f=/photos\/(.+)\//;return{init:e}}(),PhotoDetails=function(){function init(){var els=document.querySelectorAll(".js-insert-details");Array.prototype.forEach.call(els,function(el){if(el&&!el.getAttribute("data-initialized")){el.setAttribute("data-initialized","true");var path=el.getAttribute("data-details-path");if(performance.navigation.type!==performance.navigation.TYPE_RELOAD&&performance.navigation.type!==performance.navigation.TYPE_BACK_FORWARD){var refQuery=Analytics.getSearchQueryFromReferrer();null!==refQuery&&(path+="?ref_query="+refQuery)}var request=UTIL.scriptRequest(path);request.onload=function(){eval(request.responseText),ConfirmDialog.init()},request.send()}})}return UTIL.ready(init),{init:init}}(),PhotoModal=function(){function t(){if(p()&&null!=d()){var n=window.location.pathname;UTIL.getRequest(window.location.pathname+"modal",function(e){if(n===window.location.pathname){var t=window.history.state;t.html=e,t.step=l,window.history.replaceState(t,window.title,n),m.redraw()}},console.log)}}function n(e){if(e){var t=e.parentNode;InitiatePhotoGrid({selector:".js-photo-modal .photos",type:"modal"}),TrackLinks.bindEvents(t.querySelectorAll("a[data-track-label], button[data-track-label]")),CarbonAds.init(t.querySelector(".carbon-ad")),PhotoZoom.init(t,{prefix:".modal "}),UTIL.triggerEvent("new-sponsored-photos")}CustomDownload.init(),Download.init(),Dropdown.init(),PhotoDetails.init(),SocialScripts.init(),BuySellAds.init(),CopyText.init(),UTIL.triggerEvent("new-photos")}function r(e,t){null!=e&&(t=isNaN(t)?0:t,"function"==typeof e.scroll?e.scroll(0,t):e.scrollTop=t)}function e(){var e=document.querySelector(c);if(l+=1,a)return r(e,0),m.redraw(),!1;m.mount(document.querySelector(u),w),UTIL.addClass(document.body,"has-open-modal--page"),a=!0,window.requestAnimationFrame(function(){0!==e.scrollTop&&r(e,0)})}function o(){if(UTIL.hasClass(document.querySelector(".js-sign-up-modal"),"is-open")||UTIL.hasClass(document.querySelector(".js-collection-modal"),"is-open"))return!1;var e=document.querySelector(u);if(m.mount(e,null),e.innerHTML="",0!==l){var t=l;if(d("step")!==t)window.history.pushState({},y,g);else{s=!0,window.history.go(-1*t);var n=d()||{},r=window.document.title,o=window.location.pathname;window.history.go(t),s=!1,window.history.pushState(n,r,o)}}UTIL.removeClass(document.body,"has-open-modal--page"),l=0,a=!1}function i(e){s||(p()?v&&g===window.location.pathname?a&&(l=0,b.close()):a?(e.state&&!isNaN(e.state.step)&&(l+=e.state.step-l),m.redraw()):b.open():v?window.location.reload():a&&(l=0,b.close()),Track.page())}var a=!1,s=!1,l=0,c=".js-photo-modal",u=c+" .modal__content",d=PhotoHelpers.getState,f=PhotoHelpers.getMaxHeight,h=PhotoHelpers.getMaxWidth,p=PhotoHelpers.isPhotoPath,v=p(),g=window.location.pathname,y=window.document.title,w={current:"",initialized:"",oninit:function(e){e.state.current=window.location.pathname,t()},oncreate:function(e){null!=d("html")&&window.requestAnimationFrame(function(){e.state.initialized=e.state.current,n(e.dom)})},onupdate:function(e){e.state.current!==window.location.pathname&&(e.state.current=window.location.pathname),null==d("html")?t():e.state.initialized!==e.state.current&&(e.state.initialized=e.state.current,n(e.dom))},view:function(){var e=d();if(null==e)return null;var t=e.photoHeight/e.photoWidth,n=(100*t|0)+"%",r=f(),o=Math.min(h(),r/t)+"px";if(null!=e.html)return[m("style",[".image-section__photo-wrap { width: 100%; max-width: "+o+"; }",".image-section__photo-wrap-width { height: 0; padding-bottom: "+n+"; }",".image-section__photo-wrap .image-section__image, .image-section__thumb { display: block; position: absolute; height: 100%; width: 100%; }"]),m.trust(e.html)];var i=650===r?e.photoLarge:e.photoBig;return[m("section.image-section",[m(".image-section__content",[m(".image-section__preview",{style:{maxWidth:o}},[m(".image-section__preview__wrap",{style:{paddingBottom:n,background:e.photoBg}},[e.photoThumb&&m("img.image-section__image",{src:e.photoThumb,srcSet:e.photoThumbSrcSet}),i&&m("img.image-section__image",{src:i})])])]),m(".image-section__sidebar")]),m(".photo-details",{style:"height: 400px"})]}},b=ModalInitializer({selector:c,onOpen:e,onClose:o});return window.addEventListener("popstate",i),b}();!function(){function e(){!isNaN(window.devicePixelRatio)&&1<window.devicePixelRatio&&(a=!0),document.addEventListener("new-photos",t),t()}function t(){if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){var e=document.querySelectorAll(".js-photo-link");Array.prototype.forEach.call(e,function(e){e.getAttribute("data-initialized")||(e.setAttribute("data-initialized","true"),e.addEventListener("click",n))})}}function o(e,t){if(!e||!a)return e;t=void 0===t?2:t;var n=e.split(/[?&]/),r=n.shift();return n.push("dpr=2"),r+"?"+n.sort().join("&")}function i(e){return e.split(/, */).map(function(e){return e.split(/ +/)}).map(function(e){return o(e[0])+" "+e[1]}).join(", ")}function n(e){if(!e||!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){e.stopPropagation(),e.preventDefault();for(var t=e.target;"a"!=t.tagName.toLowerCase();)t=t.parentNode;var n=t.querySelector("img"),r={photoBg:n.style.background,photoBig:o(n.getAttribute("data-big-src")),photoLarge:o(n.getAttribute("data-large-src")),photoThumb:o(n.getAttribute("data-tiny-src")),photoThumbSrcSet:i(n.getAttribute("data-tiny-srcset")),photoHeight:n.getAttribute("data-image-height"),photoWidth:n.getAttribute("data-image-width")};window.history.pushState(r,n.title,t.pathname),PhotoModal.open(),Track.page()}}var a=!0;UTIL.ready(e)}(),function(){function e(){var e=document.querySelector(".js-32bit-warning");e&&"Win32"===navigator.platform&&-1===navigator.userAgent.indexOf("WOW64")&&-1===navigator.userAgent.indexOf("Win64")&&-1===navigator.userAgent.indexOf(" x64")&&"x64"!==navigator.cpuClass&&UTIL.removeClass(e,"hidden")}UTIL.ready(e)}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Raven=e()}}(function(){return function i(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,i,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,t.exports=n},{}],2:[function(e,t){var l=e(5),n=function(e,r,o){var i=e[r],a=e;if(r in e){var s="warn"===r?"warning":r;e[r]=function(){var e=[].slice.call(arguments),t=l.safeJoin(e," "),n={level:s,logger:"console",extra:{arguments:e}};"assert"===r?!1===e[0]&&(t="Assertion failed: "+(l.safeJoin(e.slice(1)," ")||"console.assert"),n.extra.arguments=e.slice(1),o&&o(t,n)):o&&o(t,n),i&&Function.prototype.apply.call(i,a,e)}}};t.exports={wrapMethod:n}},{5:5}],3:[function(V,W){(function(e){function o(){return+new Date}function l(t,n){return g(n)?function(e){return n(e,t)}:n}function s(){for(var e in this.a=!("object"!=typeof JSON||!JSON.stringify),this.b=!n(D),this.c=!n(B),this.d=null,this.e=null,this.f=null,this.g=null,this.h=null,this.i=null,this.j={},this.k={release:H.SENTRY_RELEASE&&H.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this.l={method:"POST",keepalive:!0,referrerPolicy:R()?"origin":""},this.m=0,this.n=!1,this.o=Error.stackTraceLimit,this.p=H.console||{},this.q={},this.r=[],this.s=o(),this.t=[],this.u=[],this.v=null,this.w=H.location,this.x=this.w&&this.w.href,this.y(),this.p)this.q[e]=this.p[e]}var c=V(6),u=V(7),d=V(8),f=V(1),t=V(5),i=t.isErrorEvent,a=t.isDOMError,h=t.isDOMException,p=t.isError,m=t.isObject,v=t.isPlainObject,n=t.isUndefined,g=t.isFunction,y=t.isString,w=t.isArray,b=t.isEmptyObject,S=t.each,E=t.objectMerge,T=t.truncate,L=t.objectFrozen,_=t.hasKey,C=t.joinRegExp,k=t.urlencode,r=t.uuid4,A=t.htmlTreeAsString,I=t.isSameException,N=t.isSameStacktrace,O=t.parseUrl,x=t.fill,q=t.supportsFetch,R=t.supportsReferrerPolicy,j=t.serializeKeysForMessage,U=t.serializeException,M=t.sanitize,P=V(2).wrapMethod,F="source protocol user pass host port path".split(" "),z=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,H="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},D=H.document,B=H.navigator;s.prototype={VERSION:"3.26.4",debug:!1,TraceKit:c,config:function(e,t){var n=this;if(n.g)return this.z("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n.k;t&&S(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n.j[e]=t:r[e]=t}),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=C(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&C(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&C(r.whitelistUrls),r.includePaths=C(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},i=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(i)?i=E(o,i):!1!==i&&(i=o),r.autoBreadcrumbs=i;var a={tryCatch:!0},s=r.instrument;return"[object Object]"==={}.toString.call(s)?s=E(a,s):!1!==s&&(s=a),r.instrument=s,c.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e.n&&(c.report.subscribe(function(){e.A.apply(e,arguments)}),e.k.captureUnhandledRejections&&e.B(),e.C(),e.k.instrument&&e.k.instrument.tryCatch&&e.D(),e.k.autoBreadcrumbs&&e.E(),e.F(),e.n=!0),Error.stackTraceLimit=e.k.stackTraceLimit,this},setDSN:function(e){var t=this,n=t.G(e),r=n.path.lastIndexOf("/"),o=n.path.substr(1,r);t.H=e,t.h=n.user,t.I=n.pass&&n.pass.substr(1),t.i=n.path.substr(r+1),t.g=t.J(n),t.K=t.g+"/"+o+"api/"+t.i+"/store/",this.y()},context:function(e,t,n){return g(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(r,o,i){function e(){var e=[],t=arguments.length,n=!r||r&&!1!==r.deep;for(i&&g(i)&&i.apply(this,arguments);t--;)e[t]=n?a.wrap(r,arguments[t]):arguments[t];try{return o.apply(this,e)}catch(u){throw a.L(),a.captureException(u,r),u}}var a=this;if(n(o)&&!g(r))return r;if(g(r)&&(o=r,r=void 0),!g(o))return o;try{if(o.M)return o;if(o.N)return o.N}catch(s){return o}for(var t in o)_(o,t)&&(e[t]=o[t]);return e.prototype=o.prototype,(o.N=e).M=!0,e.O=o,e},uninstall:function(){return c.report.uninstall(),this.P(),this.Q(),this.R(),this.S(),Error.stackTraceLimit=this.o,this.n=!1,this},T:function(e){this.z("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},B:function(){return this.T=this.T.bind(this),H.addEventListener&&H.addEventListener("unhandledrejection",this.T),this},P:function(){return H.removeEventListener&&H.removeEventListener("unhandledrejection",this.T),this},captureException:function(e,t){if(t=E({trimHeadFrames:0},t||{}),i(e)&&e.error)e=e.error;else{if(a(e)||h(e)){var n=e.name||(a(e)?"DOMError":"DOMException"),r=e.message?n+": "+e.message:n;return this.captureMessage(r,E(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(p(e))e=e;else{if(!v(e))return this.captureMessage(e,E(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this.U(t,e),e=new Error(t.message)}}this.d=e;try{var o=c.computeStackTrace(e);this.V(o,t)}catch(s){if(e!==s)throw s}return this},U:function(e,t){var n=Object.keys(t).sort(),r=E(e,{message:"Non-Error exception captured with keys: "+j(n),fingerprint:[d(n)],extra:e.extra||{}});return r.extra.W=U(t),r},captureMessage:function(e,t){if(!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(e)){var n,r=E({message:e+=""},t=t||{});try{throw new Error(e)}catch(l){n=l}n.name=null;var o=c.computeStackTrace(n),i=w(o.stack)&&o.stack[1];i&&"Raven.captureException"===i.func&&(i=o.stack[2]);var a=i&&i.url||"";if((!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(a))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(a))){if(this.k.stacktrace||t.stacktrace||""===r.message){r.fingerprint=null==r.fingerprint?e:r.fingerprint,(t=E({trimHeadFrames:0},t)).trimHeadFrames+=1;var s=this.X(o,t);r.stacktrace={frames:s.reverse()}}return r.fingerprint&&(r.fingerprint=w(r.fingerprint)?r.fingerprint:[r.fingerprint]),this.Y(r),this}}},captureBreadcrumb:function(e){var t=E({timestamp:o()/1e3},e);if(g(this.k.breadcrumbCallback)){var n=this.k.breadcrumbCallback(t);if(m(n)&&!b(n))t=n;else if(!1===n)return this}return this.u.push(t),this.u.length>this.k.maxBreadcrumbs&&this.u.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this.r.push([e,t]),this.n&&this.F(),this},setUserContext:function(e){return this.j.user=e,this},setExtraContext:function(e){return this.Z("extra",e),this},setTagsContext:function(e){return this.Z("tags",e),this},clearContext:function(){return this.j={},this},getContext:function(){return JSON.parse(u(this.j))},setEnvironment:function(e){return this.k.environment=e,this},setRelease:function(e){return this.k.release=e,this},setDataCallback:function(e){var t=this.k.dataCallback;return this.k.dataCallback=l(t,e),this},setBreadcrumbCallback:function(e){var t=this.k.breadcrumbCallback;return this.k.breadcrumbCallback=l(t,e),this},setShouldSendCallback:function(e){var t=this.k.shouldSendCallback;return this.k.shouldSendCallback=l(t,e),this},setTransport:function(e){return this.k.transport=e,this},lastException:function(){return this.d},lastEventId:function(){return this.f},isSetup:function(){return!(!this.a||!this.g&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this.z("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var e=H.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(D){if(!(e=Object.assign({eventId:this.lastEventId(),dsn:this.H,user:this.j.user||{}},e)).eventId)throw new f("Missing eventId");if(!e.dsn)throw new f("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var o=e.user;o.name&&n.push("name="+t(o.name)),o.email&&n.push("email="+t(o.email))}else n.push(t(r)+"="+t(e[r]));var i=this.J(this.G(e.dsn)),a=D.createElement("script");a.async=!0,a.src=i+"/api/embed/error-page/?"+n.join("&"),(D.head||D.body).appendChild(a)}},L:function(){var e=this;this.m+=1,setTimeout(function(){e.m-=1})},$:function(e,t){var n,r;if(this.b){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),D.createEvent?(n=D.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=D.createEventObject()).eventType=e,t)_(t,r)&&(n[r]=t[r]);if(D.createEvent)D.dispatchEvent(n);else try{D.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(l){}}},_:function(n){var r=this;return function(e){if(r.aa=null,r.v!==e){var t;r.v=e;try{t=A(e.target)}catch(l){t="<unknown>"}r.captureBreadcrumb({category:"ui."+n,message:t})}}},ba:function(){var o=this,i=1e3;return function(e){var t;try{t=e.target}catch(l){return}var n=t&&t.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)){var r=o.aa;r||o._("input")(e),clearTimeout(r),o.aa=setTimeout(function(){o.aa=null},i)}}},ca:function(e,t){var n=O(this.w.href),r=O(t),o=O(e);this.x=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},C:function(){var e=this;e.da=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.M?e.da.apply(this.O,arguments):e.da.apply(this,arguments)}},Q:function(){this.da&&(Function.prototype.toString=this.da)},D:function(){function e(r){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var n=e[0];return g(n)&&(e[0]=c.wrap({mechanism:{type:"instrument",data:{"function":r.name||"<anonymous>"}}},n)),r.apply?r.apply(this,e):r(e[0],e[1])}}function t(l){var e=H[l]&&H[l].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(x(e,"addEventListener",function(s){return function(e,t,n,r){try{t&&t.handleEvent&&(t.handleEvent=c.wrap({mechanism:{type:"instrument",data:{target:l,"function":"handleEvent",handler:t&&t.name||"<anonymous>"}}},t.handleEvent))}catch(d){}var o,i,a;return u&&u.dom&&("EventTarget"===l||"Node"===l)&&(i=c._("click"),a=c.ba(),o=function(e){if(e){var t;try{t=e.type}catch(c){return}return"click"===t?i(e):"keypress"===t?a(e):void 0}}),s.call(this,e,c.wrap({mechanism:{type:"instrument",data:{target:l,"function":"addEventListener",handler:t&&t.name||"<anonymous>"}}},t,o),n,r)}},n),x(e,"removeEventListener",function(o){return function(e,t,n,r){try{t=t&&(t.N?t.N:t)}catch(i){}return o.call(this,e,t,n,r)}},n))}var c=this,n=c.t,u=this.k.autoBreadcrumbs;x(H,"setTimeout",e,n),x(H,"setInterval",e,n),H.requestAnimationFrame&&x(H,"requestAnimationFrame",function(t){return function(e){return t(c.wrap({mechanism:{type:"instrument",data:{"function":"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},e))}},n);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],r=0;r<i.length;r++)t(i[r])},E:function(){function i(t,e){t in e&&g(e[t])&&x(e,t,function(e){return s.wrap({mechanism:{type:"instrument",data:{"function":t,handler:e&&e.name||"<anonymous>"}}},e)})}var s=this,e=this.k.autoBreadcrumbs,t=s.t;if(e.xhr&&"XMLHttpRequest"in H){var n=H.XMLHttpRequest&&H.XMLHttpRequest.prototype;x(n,"open",function(n){return function(e,t){return y(t)&&-1===t.indexOf(s.h)&&(this.ea={method:e,url:t,status_code:null}),n.apply(this,arguments)}},t),x(n,"send",function(o){return function(){function t(){if(e.ea&&4===e.readyState){try{e.ea.status_code=e.status}catch(i){}s.captureBreadcrumb({type:"http",category:"xhr",data:e.ea})}}for(var e=this,n=["onload","onerror","onprogress"],r=0;r<n.length;r++)i(n[r],e);return"onreadystatechange"in e&&g(e.onreadystatechange)?x(e,"onreadystatechange",function(e){return s.wrap({mechanism:{type:"instrument",data:{"function":"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,t)}):e.onreadystatechange=t,o.apply(this,arguments)}},t)}e.xhr&&q()&&x(H,"fetch",function(a){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var n,r=e[0],o="GET";if("string"==typeof r?n=r:"Request"in H&&r instanceof H.Request?(n=r.url,r.method&&(o=r.method)):n=""+r,-1!==n.indexOf(s.h))return a.apply(this,e);e[1]&&e[1].method&&(o=e[1].method);var i={method:o,url:n,status_code:null};return a.apply(this,e).then(function(e){return i.status_code=e.status,s.captureBreadcrumb({type:"http",category:"fetch",data:i}),e})["catch"](function(e){throw s.captureBreadcrumb({type:"http",category:"fetch",data:i,level:"error"}),e})}},t),e.dom&&this.b&&(D.addEventListener?(D.addEventListener("click",s._("click"),!1),D.addEventListener("keypress",s.ba(),!1)):D.attachEvent&&(D.attachEvent("onclick",s._("click")),D.attachEvent("onkeypress",s.ba())));var r=H.chrome,o=!(r&&r.app&&r.app.runtime)&&H.history&&H.history.pushState&&H.history.replaceState;if(e.location&&o){var a=H.onpopstate;H.onpopstate=function(){var e=s.w.href;if(s.ca(s.x,e),a)return a.apply(this,arguments)};var l=function(o){return function(e,t,n){var r=2<arguments.length?n:void 0;return r&&s.ca(s.x,r+""),o.apply(this,arguments)}};x(H.history,"pushState",l,t),x(H.history,"replaceState",l,t)}if(e.console&&"console"in H&&console.log){var c=function(e,t){s.captureBreadcrumb({message:e,level:t.level,category:"console"})};S(["debug","info","warn","error","log"],function(e,t){P(console,t,c)})}},R:function(){for(var e;this.t.length;){var t=(e=this.t.shift())[0],n=e[1],r=e[2];t[n]=r}},S:function(){for(var e in this.q)this.p[e]=this.q[e]},F:function(){var o=this;S(this.r,function(e,t){var n=t[0],r=t[1];n.apply(o,[o].concat(r))})},G:function(e){var t=z.exec(e),n={},r=7;try{for(;r--;)n[F[r]]=t[r]||""}catch(l){throw new f("Invalid DSN: "+e)}if(n.pass&&!this.k.allowSecretKey)throw new f("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},J:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},A:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this.m||this.V(e,t)},V:function(e,t){var n=this.X(e,t);this.$("handle",{stackInfo:e,options:t}),this.fa(e.name,e.message,e.url,e.lineno,n,t)},X:function(r,e){var o=this,i=[];if(r.stack&&r.stack.length&&(S(r.stack,function(e,t){var n=o.ga(t,r.url);n&&i.push(n)}),e&&e.trimHeadFrames))for(var t=0;t<e.trimHeadFrames&&t<i.length;t++)i[t].in_app=!1;return i=i.slice(0,this.k.stackTraceLimit)},ga:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this.k.includePaths.test&&!this.k.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n},fa:function(e,t,n,r,o,i){var a,s=(e?e+": ":"")+(t||"");if((!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(t)&&!this.k.ignoreErrors.test(s))&&(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(n))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(n)))){var l=E({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},i),c=l.exception.values[0];null==c.type&&""===c.value&&(c.value="Unrecoverable error caught"),!l.exception.mechanism&&l.mechanism&&(l.exception.mechanism=l.mechanism,delete l.mechanism),l.exception.mechanism=E({type:"generic",handled:!0},l.exception.mechanism||{}),this.Y(l)}},ha:function(e){var t=this.k.maxMessageLength;if(e.message&&(e.message=T(e.message,t)),e.exception){var n=e.exception.values[0];n.value=T(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=T(r.url,this.k.maxUrlLength)),r.Referer&&(r.Referer=T(r.Referer,this.k.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this.ia(e.breadcrumbs),e},ia:function(e){for(var t,n,r,o=["to","from","url"],i=0;i<e.values.length;++i)if((n=e.values[i]).hasOwnProperty("data")&&m(n.data)&&!L(n.data)){r=E({},n.data);for(var a=0;a<o.length;++a)t=o[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=T(r[t],this.k.maxUrlLength));e.values[i].data=r}},ja:function(){if(this.c||this.b){var e={};return this.c&&B.userAgent&&(e.headers={"User-Agent":B.userAgent}),H.location&&H.location.href&&(e.url=H.location.href),this.b&&D.referrer&&(e.headers||(e.headers={}),e.headers.Referer=D.referrer),e}},y:function(){this.ka=0,this.la=null},ma:function(){return this.ka&&o()-this.la<this.ka},na:function(e){var t=this.e;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?N(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||I(e.exception,t.exception))},oa:function(e){if(!this.ma()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=q()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(l){}this.ka=n||(2*this.ka||1e3),this.la=o()}}},Y:function(t){var e=this.k,n={project:this.i,logger:e.logger,platform:"javascript"},r=this.ja();if(r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=E(n,t)).tags=E(E({},this.j.tags),t.tags),t.extra=E(E({},this.j.extra),t.extra),t.extra["session:duration"]=o()-this.s,this.u&&0<this.u.length&&(t.breadcrumbs={values:[].slice.call(this.u,0)}),this.j.user&&(t.user=this.j.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this.pa(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||b(t[e]))&&delete t[e]}),g(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!b(t)&&(!g(e.shouldSendCallback)||e.shouldSendCallback(t)))return this.ma()?void this.z("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this.qa(t):this.qa(t))},pa:function(e){return M(e,this.k.sanitizeKeys)},ra:function(){return r()},qa:function(t,n){var r=this,e=this.k;if(this.isSetup()){if(t=this.ha(t),!this.k.allowDuplicates&&this.na(t))return void this.z("warn","Raven dropped repeat event: ",t);this.f=t.event_id||(t.event_id=this.ra()),this.e=t,this.z("debug","Raven about to send:",t);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this.h};this.I&&(o.sentry_secret=this.I);var i=t.exception&&t.exception.values[0];this.k.autoBreadcrumbs&&this.k.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this.K;(e.transport||this._makeRequest).call(this,{url:a,auth:o,data:t,options:e,onSuccess:function(){r.y(),r.$("success",{data:t,src:a}),n&&n()},onError:function(e){r.z("error","Raven transport failed to send: ",e),e.request&&r.oa(e.request),r.$("failure",{data:t,src:a}),e=e||new Error("Raven send failed (no additional details provided)"),n&&n(e)}})}},_makeRequest:function(n){var e=n.url+"?"+k(n.auth),t=null,r={};if(n.options.headers&&(t=this.sa(n.options.headers)),n.options.fetchParameters&&(r=this.sa(n.options.fetchParameters)),q()){r.body=u(n.data);var o=E({},this.l),i=E(o,r);return t&&(i.headers=t),H.fetch(e,i).then(function(e){if(e.ok)n.onSuccess&&n.onSuccess();else{var t=new Error("Sentry error code: "+e.status);t.request=e,n.onError&&n.onError(t)}})["catch"](function(){n.onError&&n.onError(new Error("Sentry error code: network unavailable"))})}var a=H.XMLHttpRequest&&new H.XMLHttpRequest;a&&(("withCredentials"in a||"undefined"!=typeof XDomainRequest)&&("withCredentials"in a?a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)n.onSuccess&&n.onSuccess();else if(n.onError){var e=new Error("Sentry error code: "+a.status);e.request=a,n.onError(e)}}:(a=new XDomainRequest,e=e.replace(/^https?:/,""),n.onSuccess&&(a.onload=n.onSuccess),n.onError&&(a.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=a,n.onError(e)})),a.open("POST",e),t&&S(t,function(e,t){a.setRequestHeader(e,t)}),a.send(u(n.data))))},sa:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},z:function(e){this.q[e]&&(this.debug||this.k.debug)&&Function.prototype.apply.call(this.q[e],this.p,[].slice.call(arguments,1))},Z:function(e,t){n(t)?delete this.j[e]:this.j[e]=E(this.j[e]||{},t)}},s.prototype.setUser=s.prototype.setUserContext,s.prototype.setReleaseContext=s.prototype.setRelease,W.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7,8:8}],4:[function(i,a){(function(e){var t=i(3),n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},r=n.Raven,o=new t;o.noConflict=function(){return n.Raven=r,o},o.afterLoad(),a.exports=o,a.exports.Client=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(Y,$){(function(e){function t(e){return"object"==typeof e&&null!==e}function o(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function n(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function r(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function i(e){return void 0===e}function s(e){return"function"==typeof e}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){if(!l(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function f(){try{return new ErrorEvent(""),!0}catch(Y){return!1}}function h(){try{return new DOMError(""),!0}catch(Y){return!1}}function p(){try{return new DOMException(""),!0}catch(Y){return!1}}function m(){if(!("fetch"in V))return!1;try{return new Headers,new Request(""),new Response,!0}catch(Y){return!1}}function v(){if(!m())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(Y){return!1}}function g(){return"function"==typeof PromiseRejectionEvent}function y(r){function e(e,t){var n=r(e)||e;return t&&t(n)||n}return e}function w(e,t){var n,r;if(i(e.length))for(n in e)T(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function b(n,e){return e&&w(e,function(e,t){n[e]=t}),n}function S(e){return!!Object.isFrozen&&Object.isFrozen(e)}function E(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"\u2026"}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){for(var t,n=[],r=0,o=e.length;r<o;r++)c(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function _(e){var n=[];return w(e,function(e,t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.join("&")}function C(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}}function k(){var e=V.crypto||V.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function A(e){for(var t,n=5,r=80,o=[],i=0,a=0,s=" > ",l=s.length;e&&i++<n&&!("html"===(t=I(e))||1<i&&a+o.length*l+t.length>=r);)o.push(t),a+=t.length,e=e.parentNode;return o.reverse().join(s)}function I(e){var t,n,r,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&c(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var s=["type","name","title","alt"];for(i=0;i<s.length;i++)r=s[i],(o=e.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}function N(e,t){return!!(!!e^!!t)}function O(e,t){return i(e)&&i(t)}function x(e,t){return!N(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&!O(e.stacktrace,t.stacktrace)&&q(e.stacktrace,t.stacktrace))}function q(e,t){if(N(e,t))return!1;var n=e.frames,r=t.frames;if(void 0===n||void 0===r)return!1;if(n.length!==r.length)return!1;for(var o,i,a=0;a<n.length;a++)if(o=n[a],i=r[a],o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o["function"]!==i["function"])return!1;return!0}function R(e,t,n,r){if(null!=e){var o=e[t];e[t]=n(o),e[t].M=!0,e[t].O=o,r&&r.push([e,t,o])}}function j(e,t){if(!u(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(o){n.push("[value cannot be serialized]")}return n.join(t)}function U(e){return~-encodeURI(e).split(/%..|./).length}function M(e){return U(JSON.stringify(e))}function P(e){if("string"==typeof e)return E(e,40);if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function F(n,r){return 0===r?P(n):l(n)?Object.keys(n).reduce(function(e,t){return e[t]=F(n[t],r-1),e},{}):Array.isArray(n)?n.map(function(e){return F(e,r-1)}):P(n)}function z(e,t,n){if(!l(e))return e;n="number"!=typeof(t="number"!=typeof t?W:t)?X:n;var r=F(e,t);return M(B(r))>n?z(e,t-1):r}function H(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if(t="number"!=typeof t?J:t,e[0].length>=t)return e[0];for(var n=e.length;0<n;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"\u2026"}return""}function D(e,t){function r(n){return u(n)?n.map(function(e){return r(e)}):l(n)?Object.keys(n).reduce(function(e,t){return e[t]=o.test(t)?i:r(n[t]),e},{}):n}if(!u(t)||u(t)&&0===t.length)return e;var n,o=L(t),i="********";try{n=JSON.parse(B(e))}catch(a){return e}return r(n)}var B=Y(7),V="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},W=3,X=51200,J=40;$.exports={isObject:t,isError:o,isErrorEvent:n,isDOMError:a,isDOMException:r,isUndefined:i,isFunction:s,isPlainObject:l,isString:c,isArray:u,isEmptyObject:d,supportsErrorEvent:f,supportsDOMError:h,supportsDOMException:p,supportsFetch:m,supportsReferrerPolicy:v,supportsPromiseRejectionEvent:g,wrappedCallback:y,each:w,objectMerge:b,truncate:E,objectFrozen:S,hasKey:T,joinRegExp:L,urlencode:_,uuid4:k,htmlTreeAsString:A,htmlElementAsString:I,isSameException:x,isSameStacktrace:q,parseUrl:C,fill:R,safeJoin:j,serializeException:z,serializeKeysForMessage:H,sanitize:D}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{7:7}],6:[function(t,n){(function(e){function y(){return"undefined"==typeof document||null==document.location?"":document.location.href}function w(){return"undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")}var m=t(5),v={collectWindowErrors:!0,debug:!1},g="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},b=[].slice,S="?",E=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;v.report=function(){function e(e){o(),l.push(e)}function t(e){for(var t=l.length-1;0<=t;--t)l[t]===e&&l.splice(t,1)}function n(){i(),l=[]}function u(e,t){var n=null;if(!t||v.collectWindowErrors){for(var r in l)if(l.hasOwnProperty(r))try{l[r].apply(null,[e].concat(b.call(arguments,2)))}catch(u){n=u}if(n)throw n}}function r(e,t,n,r,o){var i=m.isErrorEvent(o)?o.error:o,a=m.isErrorEvent(e)?e.message:e;if(p)v.computeStackTrace.augmentStackTraceWithInitialElement(p,t,n,a),d();else if(i&&m.isError(i))u(v.computeStackTrace(i),!0);else{var s,l={url:t,line:n,column:r},c=void 0;if("[object String]"==={}.toString.call(a))(s=a.match(E))&&(c=s[1],a=s[2]);l.func=S,u({name:c,message:a,url:y(),stack:[l]},!0)}return!!f&&f.apply(this,arguments)}function o(){s||(f=g.onerror,g.onerror=r,s=!0)}function i(){s&&(g.onerror=f,s=!1,f=void 0)}function d(){var e=p,t=c;h=p=c=null,u.apply(null,[e,!1].concat(t))}function a(e,t){var n=b.call(arguments,1);if(p){if(h===e)return;d()}var r=v.computeStackTrace(e);if(p=r,h=e,c=n,setTimeout(function(){h===e&&d()},r.incomplete?2e3:0),!1!==t)throw e}var f,s,l=[],c=null,h=null,p=null;return a.subscribe=e,a.unsubscribe=t,a.uninstall=n,a}(),v.computeStackTrace=function(){function r(e){if("undefined"!=typeof e.stack&&e.stack){for(var t,n,r,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=e.stack.split("\n"),u=[],d=(/^(.*) is undefined$/.exec(e.message),0),f=c.length;d<f;++d){if(n=o.exec(c[d])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=l.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:h?null:n[2],func:n[1]||S,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(c[d]))r={url:n[2],func:n[1]||S,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(c[d])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=s.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==d||n[5]||"undefined"==typeof e.columnNumber||(u[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||S,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=S),r.url&&"blob:"===r.url.substr(0,5)){var p=new XMLHttpRequest;if(p.open("GET",r.url,!1),p.send(null),200===p.status){var m=p.responseText||"",v=(m=m.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(v){var g=v[1];"~"===g.charAt(0)&&(g=w()+g.slice(1)),r.url=g.slice(0,-4)}}}u.push(r)}return u.length?{name:e.name,message:e.message,url:y(),stack:u}:null}}function d(e,t,n){var r={url:t,line:n};if(r.url&&r.line){if(e.incomplete=!1,r.func||(r.func=S),0<e.stack.length&&e.stack[0].url===r.url){if(e.stack[0].line===r.line)return!1;if(!e.stack[0].line&&e.stack[0].func===r.func)return e.stack[0].line=r.line,!1}return e.stack.unshift(r),e.partial=!0}return!(e.incomplete=!0)}function f(e,t){for(var n,r,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],a={},s=!1,l=f.caller;l&&!s;l=l.caller)if(l!==h&&l!==v.report){if(r={url:null,func:S,line:null,column:null},l.name?r.func=l.name:(n=o.exec(l.toString()))&&(r.func=n[1]),"undefined"==typeof r.func)try{r.func=n.input.substring(0,n.input.indexOf("{"))}catch(u){}a[""+l]?s=!0:a[""+l]=!0,i.push(r)}t&&i.splice(0,t);var c={name:e.name,message:e.message,url:y(),stack:i};return d(c,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),c}function h(e,t){var n=null;t=null==t?0:+t;try{if(n=r(e))return n}catch(g){if(v.debug)throw g}try{if(n=f(e,t+1))return n}catch(g){if(v.debug)throw g}return{name:e.name,message:e.message,url:y()}}return h.augmentStackTraceWithInitialElement=d,h.computeStackTraceFromStackProp=r,h}(),n.exports=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(e,t){function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function n(e,t,n,r){return JSON.stringify(e,o(t,r),n)}function l(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function o(r,o){var i=[],a=[];return null==o&&(o=function(e,t){return i[0]===t?"[Circular ~]":"[Circular ~."+a.slice(0,s(i,t)).join(".")+"]"}),function(e,t){if(0<i.length){var n=s(i,this);~n?i.splice(n+1):i.push(this),~n?a.splice(n,1/0,e):a.push(e),~s(i,t)&&(t=o.call(this,e,t))}else i.push(t);return null==r?t instanceof Error?l(t):t:r.call(this,e,t)}}(t.exports=n).getSerialize=o},{}],8:[function(e,t){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,o,i){return d(a(d(d(t,e),d(r,i)),o),n)}function f(e,t,n,r,o,i,a){return s(t&n|~t&r,e,t,o,i,a)}function h(e,t,n,r,o,i,a){return s(t&r|n&~r,e,t,o,i,a)}function p(e,t,n,r,o,i,a){return s(t^n^r,e,t,o,i,a)}function m(e,t,n,r,o,i,a){return s(n^(t|~r),e,t,o,i,a)}function l(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,o,i,a,s=1732584193,l=-271733879,c=-1732584194,u=271733878;for(n=0;n<e.length;n+=16)l=m(l=m(l=m(l=m(l=p(l=p(l=p(l=p(l=h(l=h(l=h(l=h(l=f(l=f(l=f(l=f(o=l,c=f(i=c,u=f(a=u,s=f(r=s,l,c,u,e[n],7,-680876936),l,c,e[n+1],12,-389564586),s,l,e[n+2],17,606105819),u,s,e[n+3],22,-1044525330),c=f(c,u=f(u,s=f(s,l,c,u,e[n+4],7,-176418897),l,c,e[n+5],12,1200080426),s,l,e[n+6],17,-1473231341),u,s,e[n+7],22,-45705983),c=f(c,u=f(u,s=f(s,l,c,u,e[n+8],7,1770035416),l,c,e[n+9],12,-1958414417),s,l,e[n+10],17,-42063),u,s,e[n+11],22,-1990404162),c=f(c,u=f(u,s=f(s,l,c,u,e[n+12],7,1804603682),l,c,e[n+13],12,-40341101),s,l,e[n+14],17,-1502002290),u,s,e[n+15],22,1236535329),c=h(c,u=h(u,s=h(s,l,c,u,e[n+1],5,-165796510),l,c,e[n+6],9,-1069501632),s,l,e[n+11],14,643717713),u,s,e[n],20,-373897302),c=h(c,u=h(u,s=h(s,l,c,u,e[n+5],5,-701558691),l,c,e[n+10],9,38016083),s,l,e[n+15],14,-660478335),u,s,e[n+4],20,-405537848),c=h(c,u=h(u,s=h(s,l,c,u,e[n+9],5,568446438),l,c,e[n+14],9,-1019803690),s,l,e[n+3],14,-187363961),u,s,e[n+8],20,1163531501),c=h(c,u=h(u,s=h(s,l,c,u,e[n+13],5,-1444681467),l,c,e[n+2],9,-51403784),s,l,e[n+7],14,1735328473),u,s,e[n+12],20,-1926607734),c=p(c,u=p(u,s=p(s,l,c,u,e[n+5],4,-378558),l,c,e[n+8],11,-2022574463),s,l,e[n+11],16,1839030562),u,s,e[n+14],23,-35309556),c=p(c,u=p(u,s=p(s,l,c,u,e[n+1],4,-1530992060),l,c,e[n+4],11,1272893353),s,l,e[n+7],16,-155497632),u,s,e[n+10],23,-1094730640),c=p(c,u=p(u,s=p(s,l,c,u,e[n+13],4,681279174),l,c,e[n],11,-358537222),s,l,e[n+3],16,-722521979),u,s,e[n+6],23,76029189),c=p(c,u=p(u,s=p(s,l,c,u,e[n+9],4,-640364487),l,c,e[n+12],11,-421815835),s,l,e[n+15],16,530742520),u,s,e[n+2],23,-995338651),c=m(c,u=m(u,s=m(s,l,c,u,e[n],6,-198630844),l,c,e[n+7],10,1126891415),s,l,e[n+14],15,-1416354905),u,s,e[n+5],21,-57434055),c=m(c,u=m(u,s=m(s,l,c,u,e[n+12],6,1700485571),l,c,e[n+3],10,-1894986606),s,l,e[n+10],15,-1051523),u,s,e[n+1],21,-2054922799),c=m(c,u=m(u,s=m(s,l,c,u,e[n+8],6,1873313359),l,c,e[n+15],10,-30611744),s,l,e[n+6],15,-1560198380),u,s,e[n+13],21,1309151649),c=m(c,u=m(u,s=m(s,l,c,u,e[n+4],6,-145523070),l,c,e[n+11],10,-1120210379),s,l,e[n+2],15,718787259),u,s,e[n+9],21,-343485551),s=d(s,r),l=d(l,o),c=d(c,i),u=d(u,a);return[s,l,c,u]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function n(e){return c(l(u(e),8*e.length))}function r(e,t){var n,r,o=u(e),i=[],a=[];for(i[15]=a[15]=void 0,16<o.length&&(o=l(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=l(i.concat(u(t)),512+8*t.length),c(l(a.concat(r),640))}function o(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function i(e){return unescape(encodeURIComponent(e))}function v(e){return n(i(e))}function g(e){return o(v(e))}function y(e,t){return r(i(e),i(t))}function w(e,t){return o(y(e,t))}function b(e,t,n){return t?n?y(t,e):w(t,e):n?v(e):g(e)}t.exports=b},{}]},{},[4])(4)}),Raven.config("https://48dbfd1db5a44b56996062c091e82186@sentry.io/1410760").install();var SocialScripts=function(){function e(){t()}function t(){var e,t,n,r,o;document.querySelector(".fb-like")&&(i?window.FB&&window.FB.XFBML&&window.FB.XFBML.parse():(i=!0,e=document,t="script",n="facebook-jssdk",o=e.getElementsByTagName(t)[0],e.getElementById(n)||((r=e.createElement(t)).id=n,r.async=1,r.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=248395878694096",o.parentNode.insertBefore(r,o))))}var i=!1;return e(),{init:e}}(),_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),StickyRelatedSearches=function(){function t(){if(_classCallCheck(this,t),this.FIXED_CLASS="sticky-related-search",this.CONTAINER=document.querySelector(".js-sticky-related-searches"),this.CONTAINER){this.NAVBAR_OFFSET=document.querySelector(".js-navbar").offsetHeight,this.SCROLL_POSITION_BEFORE_FIXING_ELEMENT=this.CONTAINER.offsetTop+this.NAVBAR_OFFSET,this.CONTENT=this.CONTAINER.querySelector(".js-sticky-related-searches-content"),this.CONTENT_LEFT_OFFSET=this.CONTENT.offsetLeft,this.lastScrollTop=0,this.lastTransform=0,this.isFixed=!1,this.freezeContainerHeight();var e=10;this.watchScroll=UTIL.throttle(this.watchScroll.bind(this),e),window.addEventListener("scroll",this.watchScroll)}}return _createClass(t,[{key:"watchScroll",value:function(){this.lastScrollTop=this.lastScrollTop||0;var e=window.pageYOffset||document.documentElement.scrollTop;e>this.SCROLL_POSITION_BEFORE_FIXING_ELEMENT?this.initiateFixedPositioning():this.unfixPositioning(),this.animateVertically(this.lastScrollTop-e),this.lastScrollTop=e<=0?0:e}},{key:"freezeContainerHeight",value:function(){this.CONTAINER.style.height=this.CONTAINER.offsetHeight+"px"}},{key:"animateVertically",value:function(e){var t=this,n=arguments.length<=0||e===undefined?0:e;if(this.isFixed){var r=1.5;window.requestAnimationFrame(function(){t.lastTransform=t.lastTransform||0,t.lastTransform+=n*r;var e=5;0<=t.lastTransform&&(t.lastTransform=0),t.lastTransform<=-100-e&&(t.lastTransform=-100-e),t.CONTENT.style.transform="translate3d(0, "+t.lastTransform+"%, 0)"})}}},{key:"initiateFixedPositioning",value:function(){this.isFixed||(this.lastTransform=-100,this.CONTENT.style.display="none",UTIL.addClass(this.CONTENT,this.FIXED_CLASS),this.CONTENT.style.paddingLeft=this.CONTENT_LEFT_OFFSET+"px",this.CONTENT.style.paddingRight=this.CONTENT_LEFT_OFFSET+"px",this.CONTENT.style.top=this.NAVBAR_OFFSET+"px",this.CONTENT.style.transform="translateY("+this.lastTransform+"%)",this.CONTENT.style.display=null,this.isFixed=!0)}},{key:"unfixPositioning",value:function(){this.isFixed&&(this.CONTENT.style.display="none",UTIL.removeClass(this.CONTENT,this.FIXED_CLASS),this.CONTENT.style.paddingLeft=null,this.CONTENT.style.paddingRight=null,this.CONTENT.style.top=null,this.CONTENT.style.transform=null,this.CONTENT.style.display=null,this.isFixed=!1,this.lastTransform=0)}}]),t}();UTIL.ready(function(){return new StickyRelatedSearches}),function(){function e(){localStorage.removeItem("hide_switch_locale_until"),h=document.querySelector(".switch-locale");for(var e=document.querySelectorAll(".js-show-switch-locale"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault(),l(!0)});var n=f(navigator.language||navigator.userLanguage),r=f(UTIL.getLocale()),o=JSON.parse(localStorage.getItem("hide_switch_locale")),i=o&&o.language,a=o&&new Date(o.hideUntil);n!=r&&u(n);var s=[n,r,"en"];o&&o.language&&s.push(o.language),c(s),i!=r&&(i||r!=n)&&d().includes(n)&&h&&(n!=r||i!=r||!a||a<new Date)&&l(!1)}function l(e){UTIL.addClass(h,"switch-locale--is-visible"),e?(UTIL.removeClass(h,"switch-locale--bottom-bar"),UTIL.addClass(h,"switch-locale--modal")):(UTIL.removeClass(h,"switch-locale--modal"),UTIL.addClass(h,"switch-locale--bottom-bar")),o||(t(),o=!0)}function t(){var e=document.querySelectorAll(".js-switch-locale-btn");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){n(e)})})}function n(e){var t=60;e.getAttribute("data-close")&&(t=30,UTIL.removeClass(h,"switch-locale--is-visible")),r(t,e.getAttribute("hreflang")||UTIL.getLocale())}function r(e,t){var n=new Date;n.setDate(n.getDate()+e),localStorage.setItem("hide_switch_locale",JSON.stringify({hideUntil:n,language:f(t)}))}function c(e){e.forEach(function(e){var t=document.querySelector(".js-switch-locale-btn[hreflang^="+e+"]");UTIL.addClass(t,"switch-locale__option--main-language")})}function u(e){var t=document.querySelector(".js-switch-locale-btn[hreflang^="+e+"] img");if(t){var n=document.querySelectorAll(".js-switch-locale-flag");Array.prototype.forEach.call(n,function(e){e.insertAdjacentHTML("beforeend",t.outerHTML)})}}function d(){var t=[],e=document.querySelectorAll(".js-switch-locale-btn[hreflang]");return Array.prototype.forEach.call(e,function(e){t.push(f(e.getAttribute("hreflang")))}),t}function f(e){return e.split("-")[0]}var h,o=!1;UTIL.ready(e)}(),function(){function n(e){CookieConsent.setCountry(e)}var r="cc",e=localStorage.getItem(r);null===e?(country_url="/me/user-cc/",UTIL.getRequest(country_url,function(e){var t=JSON.parse(e).country;null!=t&&(localStorage.setItem(r,btoa(t)),n(t))},function(){})):n(atob(e))}();var TagEditor=function(){function e(){if(null==window.TagEditorScript){var e=document.createElement("script");e.src="/assets/tag-editor-864fa1a09af1e6cdafc90de6c6fc2ac78e0a0899b9217d9aa6afc6fe2043d61e.js",document.body.appendChild(e)}else TagEditorScript.init()}return{load:e}}(),AddPhotoTags=function(){function e(){var e=document.querySelectorAll(".js-add-tags-link");Array.prototype.forEach.call(e,function(e,t){e.getAttribute("data-initialized")||(e.setAttribute("data-initialized","true"),n(e,t))})}function n(e,r){function t(e){e.preventDefault(),n(),TagEditor.load(),i.addEventListener("submit",o)}function n(){UTIL.addClass(e,"hidden"),UTIL.removeClass(i,"hidden")}function o(e){e.preventDefault();var t=document.querySelectorAll(".js-add-tags-success")[r];UTIL.addClass(i,"hidden"),UTIL.removeClass(t,"hidden");var n=$(this).attr("action");$.ajax({type:"POST",url:n,data:$(i).serialize()})}var i=document.querySelectorAll(".js-add-tags-form")[r];e.addEventListener("click",t)}return{init:e}}();!function(){function e(){s=document.querySelector(".avatar-form"),l=document.querySelector(".js-avatar-input"),c=document.querySelector(".avatar-form__img"),d=document.querySelector(".avatar-form__progress-bar"),f=document.querySelector(".avatar-form__btn"),null!==l&&null!==s&&(f.addEventListener("click",t),c.addEventListener("click",t),l.addEventListener("change",function(){file=l.files[0],n()}))}function t(e){e.preventDefault(),l.click()}function n(){h=!1,s.classList.add("avatar-form--uploading"),window.onbeforeunload=function(){if(!h)return i18n("avatar_not_published")};var e=new FileReader;e.onload=function(e){c.setAttribute("src",e.target.result)},e.readAsDataURL(file),r()}function r(){var e=function(e){e=JSON.parse(e);u=e.file_name,o(e.fields,e.upload_url)},t=function(e){e=JSON.parse(e)||{},alert(e.error||i18n("no_upload_url"))};UTIL.getRequest("/users/avatar_upload_url/?file_type="+file.type,e,t)}function o(e,t){var n=new XMLHttpRequest;n.upload.addEventListener("progress",i),n.open("POST",t),n.setRequestHeader("X-CSRF-Token",UTIL.getCsrfToken()),n.onload=function(){200<=n.status&&n.status<400&&a()},n.onerror=function(){alert(i18n("upload_error"))};var r=new FormData;for(key in e)r.append(key,e[key]);r.append("file",file),n.send(r)}function i(e){if(e.lengthComputable){var t=e.loaded/e.total*100;d.style.width=t+"%"}}function a(){var e=function(e){var t;(h=!0,s.classList.remove("avatar-form--uploading"),e=JSON.parse(e),c.setAttribute("src",e.avatar_url),t=localStorage.user)&&((t=JSON.parse(t)).avatar=e.avatar_url,localStorage.user=JSON.stringify(t))},t=function(){alert(i18n("try_again"))};UTIL.getRequest("/users/avatar_upload_success/?file_name="+u,e,t)}var s,l,c,u,d,f,h=!1;UTIL.ready(e)}();var ConfirmDialog=function(){function e(){var e=document.querySelectorAll("[data-confirm]");Array.prototype.forEach.call(e,function(e){e&&!e.getAttribute("data-initialized")&&(e.addEventListener("click",t),e.setAttribute("data-initialized","true"))})}function t(e){window.confirm(e.target.getAttribute("data-confirm"))||e.preventDefault()}return UTIL.ready(e),{init:e}}();!function(){function e(){(o=document.querySelector(".js-delete-account"))&&o.addEventListener("click",t)}function t(e){e.preventDefault();var t=o.getAttribute("data-confirm-text");if(window.confirm(t)){var n="/me/delete/",r=new XMLHttpRequest;r.open("DELETE",n,!0),r.setRequestHeader("X-CSRF-Token",UTIL.getCsrfToken()),r.send(),r.onload=function(){4==r.readyState&&"200"==r.status?(alert("Your account is deleted!"),Logout.logout(),window.location.replace("/")):alert("Your account couldn't be deleted! Please contact hello@pexels.com.")}}}var o;UTIL.ready(e)}();var GeoAutocompleteLoadScript=function(){function e(e){if(r)return!0;var t=document.documentElement.lang||"en-us",n=document.createElement("script");return n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJ0gSv0MjwjHtRwrcoeNowjNdm3N-AWDU&libraries=places&callback="+e+"&language="+t,document.body.appendChild(n),!(r=!0)}var r=!1;return{load:e}}(),GeoAutocompleteForm=function(){function e(){var e=document.querySelectorAll(".js-show-geo-autocomplete"),r=document.querySelectorAll(".js-add-location-form");Array.prototype.forEach.call(e,function(t,n){t.getAttribute("data-initialized")||(t.setAttribute("data-initialized","true"),t.addEventListener("click",function(e){e.preventDefault(),UTIL.addClass(t,"hidden"),UTIL.removeClass(r[n],"hidden"),o()}))})}function o(){var e="GeoAutocompleteForm.handleAutocompleteLoaded";GeoAutocompleteLoadScript.load(e)&&t()}function t(){var e=document.querySelectorAll(".js-add-location-form");Array.prototype.forEach.call(e,function(e){if(!e.getAttribute("data-initialized")){e.setAttribute("data-initialized","true");var t=e.querySelector(".js-geo-autocomplete"),n=new GeoAutocomplete(t);e.addEventListener("submit",r(n,e))}})}function r(e,t){return function(){t.querySelector(".js-geo-autocomplete-place-id").value=e.getPlaceId(),t.querySelector(".js-geo-autocomplete-longitude").value=e.getLongitude(),t.querySelector(".js-geo-autocomplete-latitude").value=e.getLatitude(),t.querySelector(".js-geo-autocomplete-city").value=e.getCity(),t.querySelector(".js-geo-autocomplete-state-code").value=e.getStateCode(),t.querySelector(".js-geo-autocomplete-country").value=e.getCountry()}}return{init:e,handleAutocompleteLoaded:t}}(),GeoAutocompleteProfile=function(){function e(){if(o=document.querySelector(".js-geo-autocomplete-profile-input")){var e="GeoAutocompleteProfile.isLoaded";GeoAutocompleteLoadScript.load(e)}}function t(){r=new GeoAutocomplete(o,{types:["(cities)"]}),document.querySelector(".js-geo-autocomplete-profile-form").addEventListener("submit",n)}function n(){document.querySelector(".js-geo-autocomplete-place-id").value=r.getPlaceId(),document.querySelector(".js-geo-autocomplete-longitude").value=r.getLongitude(),document.querySelector(".js-geo-autocomplete-latitude").value=r.getLatitude()}var r,o;return e(),{isLoaded:t}}(),GeoAutocomplete=function(t,n){function r(t,e){var n=o.address_components.filter(function(e){return 0<=e.types.indexOf(t)})[0];return n?n[e]:null}function e(){UTIL.removeClass(t,"hidden");var e=new google.maps.places.Autocomplete(t,n);e.addListener("place_changed",function(){o=e.getPlace(),s=o.place_id,i=o.geometry.location.lat(),a=o.geometry.location.lng(),l=r("locality","long_name"),c=r("administrative_area_level_1","short_name"),u=r("country","long_name")})}var o,i,a,s,l,c,u;return e(),{getLatitude:function(){return i},getLongitude:function(){return a},getPlaceId:function(){return s},getCity:function(){return l},getStateCode:function(){return c},getCountry:function(){return u}}};!function(){function e(){var e=document.querySelector(".js-anonymous-id");if(e){var t=Analytics.getAnonymousId();e.value=t}var n=document.querySelector(".js-anonymous-id-link");if(n){t=Analytics.getAnonymousId();n.href+="&anonymous_id="+t}}UTIL.ready(e)}();var Logout=function(){function e(){var e=document.querySelector(".js-logout-btn");e&&e.addEventListener("click",t)}function t(){localStorage.removeItem("followings"),localStorage.removeItem("followings_expire_at"),localStorage.removeItem("likes"),localStorage.removeItem("likes_expire_at"),localStorage.removeItem("collected"),localStorage.removeItem("collected_expire_at"),localStorage.removeItem("user"),n("pexels_auth"),n("avatar_url")}function n(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"}return UTIL.ready(e),{logout:t}}();!function(){function e(){(r=document.querySelector(".js-newsletter-checkbox"))&&UTIL.getRequest("/me/newsletter-subscription-status/",t,n)}function t(e){(isSubscribed="true"==e,isSubscribed)&&(document.getElementById("user_subscribed_newsletter_before").value=!0,r.checked=!0,localStorage.setItem("newsletterSubscribed","true"))}function n(){}var r;e()}();var PhotoUpload=function(s,r){function e(){p=0==s.type.indexOf("video/")?"video":"photo",f=document.querySelector(".js-photo-upload-list"),Promise.all([t(),n()]).then(function(e){return o(e[1])}).then(function(){return c()}).then(function(){C=!0,u(T),r()})["catch"](d)}function t(){return new Promise(function(o,i){var e=document.createElement("div");e.innerHTML=document.querySelector("#js-photo-upload-item").innerHTML.replace(/{{randomNumber}}/g,Math.floor(9999999*Math.random())),(y=e.firstElementChild).querySelector("img").setAttribute("alt",s.name),f.insertBefore(y,f.firstChild),UTIL.triggerEvent("init-tag-editor"),Dropdown.init();var t=y.querySelector(".js-geo-autocomplete");L=new GeoAutocomplete(t),w=y.querySelector(".upload-item__progress-bar"),b=y.querySelector(".upload-item__progress-text"),S=b.getAttribute("data-uploading"),E=b.getAttribute("data-error"),T=b.getAttribute("data-success"),abortBtn=y.querySelector(".upload-item__abort"),abortBtn.addEventListener("click",function(){_=!0,r(),a(y)}),y.querySelector(".js-filename").innerHTML=s.name;var n=new FileReader;n.onload=function(e){var t;if("photo"===p)(t=y.querySelector("img.upload-item__preview")).onload=function(){m=this.naturalWidth,v=this.naturalHeight,g=s.size,m*v<k?i(i18n("min_resolution")):o()},t.setAttribute("src",e.target.result);else{var n=y.querySelectorAll(".js-photo-upload-only");Array.prototype.forEach.call(n,function(e){UTIL.addClass(e,"hidden")});var r=y.querySelectorAll(".js-video-upload-only");Array.prototype.forEach.call(r,function(e){UTIL.removeClass(e,"hidden")}),(t=y.querySelector("img.upload-item__preview")).setAttribute("src","/assets/submit-photos/video-upload-d9f1e124bc69421f36e30bd31cdf064e86d40b1bb9db3c52acc623b38ccefedc.png"),g=s.size,o()}UTIL.removeClass(t,"hidden")},n.readAsDataURL(s)})}function a(e){var t=e.offsetHeight,n=t/15;e.style.overflow="hidden";var r=function(){e.style.height=(t-=n)+"px",0<t?setTimeout(r,20):e.style.display="none"};r()}function n(){return new Promise(function(t,n){var e=function(e){e=JSON.parse(e);h=e.medium_id,t(e)},r=function(e){e=JSON.parse(e)||{},n(e.error||i18n("no_upload_url"))},o="/upload/upload_url/?file_type="+s.type+"&"+Math.floor(1e5*Math.random())+"&size="+s.size;UTIL.getRequest(o,e,r)})}function o(a){return new Promise(function(e,t){var n=a.fields,r=a.upload_url,o=new XMLHttpRequest;o.upload.addEventListener("progress",l),o.open("POST",r),o.setRequestHeader("X-CSRF-Token",UTIL.getCsrfToken()),o.onload=function(){200<=o.status&&o.status<400&&e()},o.onerror=function(){t(i18n("upload_error"))};var i=new FormData;for(key in n)i.append(key,n[key]);i.append("file",s),o.send(i)})}function l(e){e.lengthComputable&&i(e.loaded,e.total)}function i(e,t){var n=e/t*100;w.style.width=n+"%",u(S.replace("{{percent}}",Math.round(n)+"%"))}function c(){return new Promise(function(e,t){var n=function(){t(i18n("try_again"))},r="?id="+h+"&width="+m+"&height="+v+"&filesize="+g;UTIL.getRequest("/upload/success/"+r,e,n)})}function u(e){b.innerHTML=e}function d(e){_=!0,u(e||E),r(),UTIL.addClass(y,"upload-item--error")}var f,h,p,m,v,g,y,w,b,S,E,T,L,_=!1,C=!1,k=4e6;return e(),{isSuccessful:function(){return C},isAborted:function(){return _},getMediumId:function(){return h},getTags:function(){return y.querySelector(".js-tag-editor").value},getChallengeIds:function(){var e=y.querySelectorAll(".js-challenge"),t=[];return Array.prototype.forEach.call(e,function(e){e.checked&&t.push(e.value)}),t},getLatitude:function(){return L.getLatitude()},getLongitude:function(){return L.getLongitude()},getPlaceId:function(){return L.getPlaceId()},getCity:function(){return L.getCity()},getStateCode:function(){return L.getStateCode()},getCountry:function(){return L.getCountry()}}};!function(){function e(){if(l=document.querySelector(".js-file-input"),c=document.querySelector(".dragover-overlay"),u=document.querySelector(".js-submit-btn"),d=document.querySelector(".js-submit-btn-tooltip"),f=document.querySelector(".js-submit-form"),h=document.querySelector(".js-submit-photos"),null!==l&&null!==c&&null!==u&&null!==f)if(t()){if(MobileAppBanner.show("upload")&&window.setTimeout(function(){MobileAppBanner.hide()},16e3),"undefined"==typeof Promise){var e=document.createElement("script");e.src="/assets/es6-promise-1dfe9ec863547182428a11afd37a04319817c8967f25b18c15399a51a384774a.js",document.body.appendChild(e)}TagEditor.load(),l.addEventListener("change",function(){i(l.files)}),document.addEventListener("dragover",n),document.addEventListener("dragleave",n),document.addEventListener("drop",o),f.addEventListener("submit",s)}else alert("Houston, we have a problem. Please use a modern browser to upload photos.")}function t(){var e=new XMLHttpRequest;return!!(e&&"upload"in e&&"onprogress"in e.upload&&window.FileList)}function n(e){e.stopPropagation(),e.preventDefault(),r(e)?(e.dataTransfer.dropEffect="copy","dragover"==e.type?c.style.display="block":e.target==c&&(c.style.display="none")):e.dataTransfer.dropEffect="none"}function r(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"==e.dataTransfer.types[t])return!0;return!1}function o(e){n(e),i(e.target.files||e.dataTransfer.files)}function i(e){if(0!=e.length){d.removeAttribute("data-tooltip-disabled"),u.setAttribute("disabled","disabled"),window.onbeforeunload=function(){if(!p)return i18n("photos_not_published")};for(var t=0;t<e.length;t++){var n=new PhotoUpload(e[t],a);m.push(n)}}}function a(){for(var e=0;e<m.length;e++)if(!m[e].isSuccessful()&&!m[e].isAborted())return;d.setAttribute("data-tooltip-disabled","disabled"),u.removeAttribute("disabled")}function s(){p=!0;for(var e=[],t=0;t<m.length;t++)m[t].isSuccessful()&&!m[t].isAborted()&&e.push({id:m[t].getMediumId(),tags:m[t].getTags(),challenge_ids:m[t].getChallengeIds(),latitude:m[t].getLatitude(),longitude:m[t].getLongitude(),google_place_id:m[t].getPlaceId(),city:m[t].getCity(),state_code:m[t].getStateCode(),country:m[t].getCountry()});h.value=JSON.stringify(e)}var l,c,u,d,f,h,p=!1,m=[];UTIL.ready(e)}();